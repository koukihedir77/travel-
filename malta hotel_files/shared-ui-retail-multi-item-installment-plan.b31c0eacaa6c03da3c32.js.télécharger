/*@license For license information please refer to shared-ui-retail-multi-item-installment-plan.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2383],{40072:function(e,n,t){t.d(n,{i:function(){return te}});var r=t(38972),a=t(96170),i=t(83962),l=t(25738),o=t(26246),c=t(23109),u=t(92061),s=t(10225),m=t(58578),f=t(49970),d=t(23783),p=t(59627),g=t(51204),v=t(43746);function y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function E(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){E(e,n,t[n])}))}return e}function h(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function I(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i=[],l=!0,o=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);l=!0);}catch(c){o=!0,a=c}finally{try{l||null==t.return||t.return()}finally{if(o)throw a}}return i}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function D(){var e=A(["\n  fragment EGDSStylizedTextFragment on EGDSStylizedText {\n    text\n    theme\n    weight\n    decorative\n  }\n"]);return D=function(){return e},e}function k(){var e=A(["\n  fragment EGDSIconFragment on Icon {\n    description\n    id\n    size\n    theme\n    title\n    withBackground\n    spotLight\n  }\n"]);return k=function(){return e},e}function P(){var e=A(["\n  fragment EGDSIllustrationFragment on Illustration {\n    description\n    link: url\n  }\n"]);return P=function(){return e},e}function S(){var e=A(["\n  fragment EGDSMarkFragment on Mark {\n    description\n    id\n    url {\n      value\n    }\n  }\n"]);return S=function(){return e},e}function O(){var e=A(["\n  fragment UIGraphicFragment on UIGraphic {\n    ...EGDSIconFragment\n    ...EGDSMarkFragment\n    ...EGDSIllustrationFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return O=function(){return e},e}function j(){var e=A(["\n  fragment AffirmContentDetailsFragment on AffirmContentDetails {\n    elementAttributes {\n      key\n      value\n    }\n    link {\n      analytics {\n        linkName\n        referrerId\n      }\n      label\n    }\n    text {\n      ...EGDSStylizedTextFragment\n    }\n    logo {\n      ...UIGraphicFragment\n    }\n  }\n\n  ","\n  ","\n"]);return j=function(){return e},e}function _(){var e=A(["\n  fragment AffirmDetailsFragment on AffirmDetails {\n    elementAttributes {\n      key\n      value\n    }\n    analytics {\n      linkName\n      referrerId\n    }\n  }\n"]);return _=function(){return e},e}function w(){var e=A(["\n  fragment KlarnaDetailsFragment on KlarnaDetails {\n    elementAttributes {\n      key\n      value\n    }\n    scriptAttributes {\n      ...InstallmentPlanAttributeFragment\n    }\n    analytics {\n      linkName\n      referrerId\n    }\n  }\n\n  fragment InstallmentPlanAttributeFragment on InstallmentPlanAttribute {\n    key\n    value\n  }\n"]);return w=function(){return e},e}function N(){var e=A(["\n  query InstallmentPlanQuery($context: ContextInput!, $multiItemSessionId: String, $amount: String) {\n    installmentPlan(context: $context, multiItemSessionId: $multiItemSessionId, installmentPriceAmount: $amount) {\n      installmentPlanDetails {\n        ...KlarnaDetailsFragment\n        ...AffirmDetailsFragment\n        ...AffirmContentDetailsFragment\n      }\n      impressionAnalytics {\n        linkName\n        referrerId\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return N=function(){return e},e}var x,G,z=(0,a.Ps)(D()),F=(E(x={},"LOYALTY","loyalty"),E(x,"NEGATIVE","negative"),E(x,"POSITIVE","positive"),E(x,"EMPHASIS","emphasis"),E(x,"PRIMARY","emphasis"),E(x,"SECONDARY","default"),E(x,"INVERSE","inverse"),x),C=(E(G={},"BOLD","bold"),E(G,"MEDIUM","medium"),E(G,"REGULAR","regular"),G),T=function(e){var n,t,a=e.data,i=e.textProps,l=a.text,o=a.theme,c=a.weight,u=a.decorative,s=o?F[o]:void 0,m=c?C[c]:void 0;return"LINE_THROUGH"===u?r.createElement("s",null,r.createElement(f.c,{size:null==i?void 0:i.size,theme:null!==(n=null==i?void 0:i.theme)&&void 0!==n?n:s,weight:m,inline:null==i?void 0:i.inline},l)):r.createElement(f.c,{size:null==i?void 0:i.size,theme:null!==(t=null==i?void 0:i.theme)&&void 0!==t?t:s,weight:m,inline:null==i?void 0:i.inline},l)};T.fragment=z,T.displayName="EGDSStylizedText";var M,L=(0,a.Ps)(k()),R=(E(M={},"INFO","info"),E(M,"POSITIVE","positive"),E(M,"STANDARD","standard"),E(M,"WARNING","warning"),M),B=function(e){var n,t=e.data,a=e.defaultIconSize,i=e.defaultIconTheme,l=e.defaultIconSpotLight,o=t.description,c=t.id,u=t.size,s=t.title,m=t.theme,f=t.withBackground,p=t.spotLight;return r.createElement(d.a,{description:o,id:c,name:c,size:u?d.E[u]:a,title:null!=s?s:void 0,theme:null!=m?m:i,shadow:Boolean(f),spotlight:null!==(n=p&&R[p]||l)&&void 0!==n?n:void 0})};B.displayName="MultiItemEGDSIcon",B.fragment=L;var U=(0,a.Ps)(P()),K=function(e){var n=e.data;return r.createElement(p.E,{alt:n.description,url:n.link})};K.displayName="EGDSIllustration",K.fragment=U;var $=(0,a.Ps)(S()),H=function(e){var n,t=e.data,a=e.size;return t.url||t.id?r.createElement(m.E,{description:t.description,id:t.id,name:t.id,size:a,url:null===(n=t.url)||void 0===n?void 0:n.value}):null};H.displayName="MultiItemEGDSMark",H.fragment=$;var V=(0,a.Ps)(O(),B.fragment,H.fragment,K.fragment),Y=function(e){var n=e.data,t=e.markProps,a=e.iconProps;switch(n.__typename){case"Icon":return r.createElement(B,b({data:n},a));case"Mark":return r.createElement(H,b({data:n},t));case"Illustration":return r.createElement(K,{data:n});default:return null}};Y.displayName="UIGraphic",Y.fragment=V;var q=(0,a.Ps)(j(),T.fragment,Y.fragment),W=function(e){var n=e.data,t=n.elementAttributes,a=n.link,i=a.analytics,c=a.label,f=n.text,d=n.logo,p=(0,u.Gv)(),g=Object.fromEntries(t.map((function(e){return[e.key,e.value]})));return r.createElement(l.i,{alignItems:"start",space:"one",justifyContent:"start",style:{blockSize:"12px"}},r.createElement(l.j,null,r.createElement(T,{data:f,textProps:{size:200}})),r.createElement(l.j,null,r.createElement(Y,{data:d,markProps:{size:m.c.EXTRA_SMALL}})),r.createElement(l.j,null,r.createElement(o.b,{margin:{inlinestart:"one"}},r.createElement(s.E,{inline:!0,onClick:function(){p(i.referrerId,i.linkName)},size:"small"},r.createElement("button",{type:"button"},r.createElement("div",b({},g),c))))))};W.fragment=q,W.displayName="AffirmContentDetails";var Q=(0,a.Ps)(_()),X=function(e){var n=e.data,t=n.elementAttributes,a=n.analytics,i=(0,u.Gv)(),l=Object.fromEntries(t.map((function(e){return[e.key,e.value]})));return r.createElement(f.c,{size:100,weight:"regular"},r.createElement("div",h(b({},l),{onClick:function(){i(a.referrerId,a.linkName)},"aria-hidden":"true",role:"link"})))};X.fragment=Q,X.displayName="AffirmDetails";var Z=(0,a.Ps)(w()),J=function(e){var n=e.data,t=n.elementAttributes,a=n.analytics,i=(0,u.Gv)(),l=Object.fromEntries(t.map((function(e){return[e.key,e.value]})));return r.createElement("klarna-placement",h(b({},l),{onClick:function(){i(a.referrerId,a.linkName)}}))};J.fragment=Z,J.displayName="KlarnaDetails";var ee=function(e){var n=e.legalTextAlignment,t=e.secondPlaceholderRequired,a=e.margin;return t?r.createElement(g.E,{space:"half",justifyItems:null!=n?n:"start"},r.createElement(g.a,null,r.createElement(o.b,{margin:null!=a?a:{blockstart:"one",blockend:"half"}},r.createElement(v.b,null))),r.createElement(g.a,null,r.createElement(v.b,{type:"secondary"}))):r.createElement(o.b,{margin:null!=a?a:{blockstart:"one",blockend:"half"}},r.createElement(v.b,null))},ne=(0,a.Ps)(N(),J.fragment,X.fragment,W.fragment),te=function(e){var n=e.inputs,t=e.skipSsr,a=e.margin,s=e.placeholderMargin,m=e.alignment,f=e.legalText,d=e.minWidth,p=(0,c.v)().context,g=I((0,r.useState)(!0),2),v=g[0],y=g[1],E=h(b({},n),{context:p}),A=(0,i.a)(ne,{variables:E,ssr:!t}),D=A.data,k=A.error,P=A.loading,S=null==D?void 0:D.installmentPlan,O=function(){y(!1)};if((0,r.useEffect)((function(){var e,n,t,r=window.affirm,a=window.Klarna;"KlarnaDetails"===(null==S?void 0:S.installmentPlanDetails.__typename)?(e=S.installmentPlanDetails.scriptAttributes,n=O,(t=document.createElement("script")).type="text/javascript",t.onload=n,document.head.appendChild(t),t.src="https://osm.klarnaservices.com/lib.js",t.async=!0,e.map((function(e){var n=e.key,r=e.value;return t.setAttribute(n,r)})),t.crossOrigin="anonymous",null==a||a.OnsiteMessaging.refresh()):"AffirmContentDetails"===(null==S?void 0:S.installmentPlanDetails.__typename)||"AffirmDetails"===(null==S?void 0:S.installmentPlanDetails.__typename)?(!function(e){if(document.getElementById("affirm-script"))e();else{var n="affirm-external-script",t=document.createElement("script");t.type="text/javascript";var r=document.createTextNode('_affirm_config = {\n    public_api_key:  "QIMSOFSMVEEZ1CXA",\n    script:          "https://cdn1.affirm.com/js/v2/affirm.js",\n    id: "'.concat(n,'"\n  };\n(function(l,g,m,e,a,f,b,p){var d,c=l[m]||{},h=document.createElement(f),n=document.getElementsByTagName(f)[0],k=function(a,b,c){return function(){a[b]._.push([c,arguments])}};c[e]=k(c,e,"set");d=c[e];c[a]={};c[a]._=[];d._=[];c[a][b]=k(c,a,b);a=0;for(b="set add save post open empty reset on off trigger ready setProduct".split(" ");a<b.length;a++)d[b[a]]=k(c,e,b[a]);a=0;for(b=["get","token","url","items"];a<b.length;a++)d[b[a]]=function(){};h.async=!0;h.src=g[f];h.id=g[p];n.parentNode.insertBefore(h,n);delete g[f];d(g);l[m]=c})(window,_affirm_config,"affirm","checkout","ui","script","ready", "id");'));t.appendChild(r),document.head.appendChild(t),t.setAttribute("data-stid","affirm-script"),t.setAttribute("id","affirm-script");var a=document.getElementById(n);a&&(a.onload=function(){e()})}}(O),null==r||r.ui.ready((function(){y(!1),r.ui.refresh()}))):y(!1)}),[S]),P||v)return r.createElement(ee,{legalTextAlignment:m,secondPlaceholderRequired:f,margin:s});if(k||!S)return null;var j=S.installmentPlanDetails;return r.createElement(o.b,{margin:a},r.createElement(l.i,{direction:"column"},r.createElement(l.j,{minWidth:null!=d?d:"4x__half"},r.createElement(u.Pt,{trackOnce:!0,referrerId:S.impressionAnalytics.referrerId,linkName:S.impressionAnalytics.linkName},r.createElement("div",null,function(){switch(j.__typename){case"AffirmContentDetails":return r.createElement(W,{data:j});case"AffirmDetails":return r.createElement(X,{data:j});case"KlarnaDetails":return r.createElement(J,{data:j});default:return null}}())))))};te.displayName="sharedui-InstallmentPlan"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui-retail-multi-item-installment-plan.b31c0eacaa6c03da3c32.js.map