/*@license For license information please refer to shared-ui-retail-lodging-multi-listing-ad.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1226],{94925:function(e,n,t){t.d(n,{w:function(){return F}});var r=t(38972),a=t(72698),i=t(96170),l=t(83962),o=t(23109),c=t(60011),u=t(93648),s=t(36182),d=t(26246),m=t(92061),g=t(45165),p=t(25738),f=t(10225),y=t(74170),b=t(58367),v=t(34328),C=t(58578),h=t(49970),E=t(10328);function k(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function A(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){A(e,n,t[n])}))}return e}function x(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function w(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i=[],l=!0,o=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);l=!0);}catch(c){o=!0,a=c}finally{try{l||null==t.return||t.return()}finally{if(o)throw a}}return i}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return k(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return k(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function S(){var e=I(["\n  fragment MultiListingAdCallToActionFragment on SponsoredContentMultiListingAd {\n    callToAction(context: $context, searchCriteriaInput: $searchCriteriaInput) {\n      text\n      action {\n        accessibility\n        resource {\n          value\n        }\n        target\n        analytics {\n          linkName\n          referrerId\n        }\n      }\n    }\n  }\n"]);return S=function(){return e},e}function j(){var e=I(["\n  fragment MultiListingAdCarouselFragment on SponsoredContentMultiListingAd {\n    brandProperties(context: $context, searchCriteriaInput: $searchCriteriaInput) {\n      ...LodgingCardFragment\n    }\n    carouselAnalytics {\n      linkName\n      referrerId\n    }\n  }\n\n  ","\n"]);return j=function(){return e},e}function L(){var e=I(["\n  fragment MultiListingAdHeadFragment on SponsoredContentMultiListingAd {\n    paragraph\n    logo {\n      standard {\n        url {\n          value\n        }\n        description\n        size\n      }\n    }\n    badge {\n      accessibility\n      text\n    }\n    adTransparencyTrigger {\n      adTransparencyId\n      adTransparencyButton {\n        ...AdTransparencyButtonFragment\n      }\n      adTransparencyOverlaySkeleton {\n        ...TransparencyOverlaySkeletonFragment\n      }\n    }\n    heading\n    callToAction(context: $context, searchCriteriaInput: $searchCriteriaInput) {\n      action {\n        target\n        accessibility\n        resource {\n          value\n        }\n        analytics {\n          linkName\n          referrerId\n        }\n      }\n    }\n  }\n\n  fragment AdTransparencyButtonFragment on AdTransparencyButton {\n    __typename\n    primary\n    accessibility\n    disabled\n    size\n    icon {\n      description\n      id\n      title\n    }\n    analyticsPayload\n  }\n  fragment TransparencyOverlaySkeletonFragment on TransparencyOverlaySkeleton {\n    title\n    error {\n      icon {\n        id\n        size\n      }\n      description\n      button {\n        primary\n      }\n      allowedRetryAttempts\n      exceededAttemptsMessage\n    }\n  }\n"]);return L=function(){return e},e}function T(){var e=I(["\n  query MultiListingAdQuery(\n    $context: ContextInput!\n    $sponsoredContentContextInput: SponsoredContentContextInput!\n    $searchCriteriaInput: MultiItemSearchContextInput!\n  ) {\n    sponsoredContent {\n      multiListingAd(context: $context, searchCriteriaInput: $searchCriteriaInput, sponsoredContentContextInput: $sponsoredContentContextInput) {\n        ...MultiListingAdHeadFragment\n        ...MultiListingAdCarouselFragment\n        ...MultiListingAdCallToActionFragment\n        carouselAnalytics {\n          linkName\n          referrerId\n        }\n        beacons {\n          renderBeacons\n        }\n        link {\n          resource {\n            ... on HttpURI {\n              value\n            }\n          }\n          analytics {\n            urls\n          }\n          target\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return T=function(){return e},e}var P=(0,i.Ps)(S()),M=function(e){var n=e.data,t=e.onClickCallback,a=(0,m.Gv)(),i=n.callToAction,l=i.action,o=l.accessibility,c=l.resource,u=l.target,s=function(e,n){return{id:e.referrerId,description:e.linkName,callback:function(e,t){return n(e,t,!0)}}}(l.analytics,a),g={rel:"noopener",target:u&&y.lho[u]};return r.createElement(p.i,{alignItems:"start",direction:"column"},r.createElement(d.b,{margin:{blockstart:"four"}},r.createElement("div",null,r.createElement(f.E,{analytics:s,onClick:t},r.createElement("a",x(O({},g),{href:c.value}),i.text,!!o&&r.createElement("span",{className:"is-visually-hidden"},o))))))};M.fragment=P,M.displayName="MultiListingAdCallToAction";var N=(0,i.Ps)(j(),y.CSK.fragment),_=function(e){var n,t=e.data,a=e.name,i=e.lodgingCardSelected,l=e.onHoverChanged,o=t.brandProperties,c=t.carouselAnalytics,u=(0,m.Gv)(),s=function(e,n){var t={};if(e){var r={id:e.referrerId,description:e.linkName,callback:function(e,t){n(e,t)}};t.analytics=r}return t}(c,u),g=o?null===(n=o[0])||void 0===n?void 0:n.mediaSection.gallery:null,p=x(O({},s),{buttonText:{nextButton:(null==g?void 0:g.nextButtonText)||"",prevButton:(null==g?void 0:g.previousButtonText)||""},navigationIconId:{next:"".concat(a,"-next"),prev:"".concat(a,"-prev")},carouselName:a,pageBy:1,peek:!0,itemsVisible:{xl:2,lg:2,md:2,sm:1},useContainerSizing:!1,itemsMaxHeight:!0}),f=function(e,n){return x(O({},e),{impressionAnalytics:{referrerId:"".concat(null==c?void 0:c.referrerId,".impression.").concat(n),linkName:null==c?void 0:c.linkName,url:null,uisPrimeMessages:[{schemaName:"hotelProduct",messageContent:'{ "productId": '.concat(e.id," }")}]}})};return r.createElement(b.E,O({},p),null==o?void 0:o.map((function(e,n){return e&&r.createElement(d.b,{key:"mla-".concat(e.id),className:"uitk-card-roundcorner-all uitk-card-has-primary-theme"},c&&r.createElement(y.CSK,{data:f(e,n),view:y.HoO.COMPACT,onClickCallback:function(){return null==i?void 0:i(e.id)},onHoverChanged:l,border:!0}),!c&&r.createElement(y.CSK,{data:e,view:y.HoO.COMPACT}))})))};_.fragment=N,_.displayName="MultiListingAdCarousel";var H=(0,i.Ps)(L()),$=function(e){var n,t=e.data,a=(e.onClickCallback,t.logo),i=t.badge,l=t.paragraph,o=t.heading,c=t.adTransparencyTrigger;if(!(a&&l&&o))return null;var s,m=a.standard&&r.createElement(C.E,{url:null===(n=a.standard.url)||void 0===n?void 0:n.value,size:C.b[a.standard.size||"5"],description:a.standard.description}),g=r.createElement(h.E,{tag:"h2",size:5},o),f=r.createElement(h.a,null,l),y=(null==i?void 0:i.text)&&r.createElement(v.p,{text:i.text,size:v.t.SMALL,a11yText:null!==(s=i.accessibility)&&void 0!==s?s:void 0}),b=(null==c?void 0:c.adTransparencyButton)?r.createElement(E.i,{data:c}):y;return r.createElement(u.l_,null,r.createElement(u.Vk,null,r.createElement(p.i,{space:"three",wrap:"nowrap",justifyContent:"space-between",alignContent:"center",alignItems:"center"},r.createElement(p.j,null,r.createElement(p.i,{direction:"column"},r.createElement(p.j,{grow:0,alignSelf:"start"},m),r.createElement(d.b,{margin:{blockend:"two",blockstart:"two"}},r.createElement(p.j,null,g)),r.createElement(d.b,{margin:{blockend:"three"}},r.createElement(p.j,{minWidth:"full_width"},f)))),r.createElement(p.j,{grow:0,alignSelf:"start"},b))),r.createElement(u.N2,null,r.createElement(d.b,{margin:{blockend:"three"}},r.createElement(p.i,{space:"three",wrap:"nowrap",justifyContent:"space-between",alignContent:"center",alignItems:"center"},r.createElement(p.j,{maxWidth:100},m),r.createElement(p.j,{grow:4},r.createElement(p.i,{direction:"column",alignContent:"start"},r.createElement(p.j,{grow:1,minWidth:"full_width"},g),r.createElement(p.j,{grow:1,minWidth:"full_width",alignSelf:"start"},r.createElement(d.b,{margin:{blockstart:"half"}},f)))),r.createElement(p.j,{grow:0,alignSelf:"start"},b)))))};$.fragment=H,$.displayName="MultiListingAdHead";var B=function(e){var n=e.multiListingAd,t=e.name,a=e.onCardClickCallback,i=e.onHoverChanged,l=n.link,o=l.resource,c=l.analytics,u=(0,g.$U)();(0,g.E8)(n.beacons);var p,f=function(){var e;null==c||null===(e=c.urls)||void 0===e||e.forEach((function(e){u(e)})),"HttpURI"===(null==o?void 0:o.__typename)&&o.value&&u(o.value)},y=r.createElement(s.d,{type:"relative"},r.createElement(d.b,{margin:{small:{blockstart:"six",blockend:"six"}},padding:{medium:{blockstart:"six",blockend:"six"}},border:{medium:["blockstart","blockend"]}},r.createElement("div",null,r.createElement($,{data:n,onClickCallback:f}),r.createElement(_,{data:n,name:t,lodgingCardSelected:function(e){null==f||f(),null==a||a(e)},onHoverChanged:i}),r.createElement(M,{data:n,onClickCallback:f})))),b=(p=n.carouselAnalytics)?{referrerId:"".concat(p.referrerId,".viewability"),linkName:p.linkName,minTime:1e3,intersectionOptions:{threshold:.3}}:null;return b?r.createElement(m.bv,O({},b)," ",y," "):y};B.displayName="LazyMultiListingAdContent";var z=(0,i.Ps)(T(),_.fragment,$.fragment,M.fragment),D=function(e){var n,t=e.inputs,i=e.skipSsr,c=e.name,s=e.onCardClickCallback,d=e.onHoverChanged,m=(0,o.v)().context,g=w(r.useState(0),2),p=g[0],f=g[1],y=x(O({},t),{context:m});r.useEffect((function(){f(window.innerHeight)}),[]);var b=(0,l.a)(z,{variables:y,ssr:!i,fetchPolicy:"no-cache"}),v=b.data,C=b.error;if(b.loading||C)return null;var h=null==v?void 0:v.sponsoredContent.multiListingAd;return(null==h||null===(n=h.brandProperties)||void 0===n?void 0:n.length)?r.createElement(u.l_,null,r.createElement(u.Vk,null,r.createElement(a.Z,{offset:p},r.createElement(B,{multiListingAd:h,name:c,onCardClickCallback:s,onHoverChanged:d}))),r.createElement(u.N2,null,r.createElement(a.Z,{offset:p/2},r.createElement(B,{multiListingAd:h,name:c,onCardClickCallback:s,onHoverChanged:d})))):null};D.displayName="sharedui-MultiListingAdComponent";var F=(0,c._)(D);F.displayName="sharedui-MultiListingAd"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui-retail-lodging-multi-listing-ad.0a6b66fa9efcc6d4de9f.js.map