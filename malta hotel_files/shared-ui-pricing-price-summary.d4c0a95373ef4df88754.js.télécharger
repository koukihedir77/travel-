/*@license For license information please refer to shared-ui-pricing-price-summary.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1487],{20165:function(e,n,t){t.d(n,{j:function(){return U}});var r=t(38972),i=t(96170),a=t(25738),l=t(92061),c=t(55025),s=t(26246),o=t(49970),u=t(36182),m=t(49861),d=t(42898),f=t(23783),E=t(83289),g=t(47751),p=t(30520),y=t(1740);function b(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){v(e,n,t[n])}))}return e}function h(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function k(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a=[],l=!0,c=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);l=!0);}catch(s){c=!0,i=s}finally{try{l||null==t.return||t.return()}finally{if(c)throw i}}return a}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return b(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function S(){var e=O(["\n  fragment EnrichedMessageFragment on LodgingEnrichedMessage {\n    __typename\n    value\n    state\n  }\n"]);return S=function(){return e},e}function D(){var e=O(["\n  fragment PriceMessageFragment on DisplayPrice {\n    __typename\n    role\n    price {\n      formatted\n      accessibilityLabel\n    }\n    disclaimer {\n      content\n      primaryUIButton {\n        accessibility\n        primary\n      }\n    }\n  }\n"]);return D=function(){return e},e}function P(){var e=O(["\n  fragment PriceSummaryFragment on PropertyPrice {\n    displayMessages {\n      lineItems {\n        ...PriceMessageFragment\n        ...EnrichedMessageFragment\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return P=function(){return e},e}var I={EVENT_NAME:"price_summary.presented",EVENT_TYPE:"Impression",EVENT_VERSION:"1.0.0"},x=(0,i.Ps)(S()),A={STRONG:"bold",EMPHASIS:"medium"},L=function(e){var n=e.data,t=n.value,i=n.state,a=e.textAlign,l=e.legalNightlyExperimentVariant,c=void 0===l?0:l,u=e.isKatesStylingEnabled;return r.createElement(s.b,{margin:{blockstart:u?"half":"unset"}},r.createElement("div",null,r.createElement(o.c,{size:2===c||u||"EMPHASIS"===i?300:200,weight:i?A[i]:"regular",align:a},t)))};L.fragment=h(_({},x),{__typename:"LodgingEnrichedMessage"}),L.displayName="EnrichedMessage";var w=function(e){var n,t=e.disclaimer,i=e.textAlign,c=e.children,s=e.type,o=e.enableInlineLink,u=void 0!==o&&o,m=e.onDisclaimerClick,b=null!=t?t:{},v=b.content,_=void 0===v?"":v,h=b.primaryUIButton,O=r.useMemo((function(){return Math.random().toString(36).substr(2,5)}),[]),S="".concat(s,"-price-disclaimer-").concat(O),D=k((0,y.useDialog)(S,"pwaNestedDialog"),3),P=D[0],I=D[1],x=D[2],A=(0,l.Gv)(),L=r.useCallback((function(){I.openDialog()}),[I]),w=(0,r.useRef)(null);return r.createElement(r.Fragment,null,u?r.createElement(p.o5,{onClick:L,onClickCapture:function(){A(".Price.DisclaimerDialog","Price Disclaimer Dialog"),m&&m()},"data-stid":"disclaimer-dialog-link",inline:!0},r.createElement("button",{type:"button",ref:w},r.createElement(a.i,{direction:"left"===i?"row-reverse":"row"},r.createElement(a.j,null,c)))):r.createElement(E.E,{onClick:L,onClickCapture:function(){A(".Price.DisclaimerDialog","Price Disclaimer Dialog"),m&&m()},"data-stid":"disclaimer-dialog-link"},r.createElement("button",{type:"button",ref:w},r.createElement(a.i,{direction:"left"===i?"row-reverse":"row"},r.createElement(a.j,null,r.createElement(f.a,{name:"info_outline",size:f.E.SMALL})),r.createElement(a.j,null,c)))),r.createElement(g.h,{isVisible:P},r.createElement(x,null,r.createElement(d.a,{returnFocusOnClose:!0,dialogShow:P,triggerRef:w},r.createElement(d.b,null,_,r.createElement(d.c,{buttonOne:{onClick:I.closeDialog,text:null!==(n=null==h?void 0:h.primary)&&void 0!==n?n:"",type:"tertiary"}}))))))},N=(0,i.Ps)(D()),j=function(e){var n=e.price,t=n.formatted,i=n.accessibilityLabel;return r.createElement(s.b,null,r.createElement("div",null,r.createElement(o.c,{className:"is-visually-hidden"},i||t),r.createElement("span",{"aria-hidden":"true"},r.createElement(o.c,null,t))))},C=function(e){var n=e.price,t=n.formatted,i=n.accessibilityLabel,a=e.isKatesStylingEnabled,l=(0,m.pl)(),c=(0,m.gJ)(l),d=k(r.useState(c),2),f=d[0],E=d[1];r.useEffect((function(){E(c)}),[c]);return r.createElement(s.b,{padding:{block:"half"}},r.createElement(u.d,{type:"relative"},r.createElement("div",{className:c?"california-coachmark":void 0},r.createElement(o.c,{className:"is-visually-hidden"},i||t),r.createElement("span",{"aria-hidden":"true"},r.createElement(o.c,{size:a?400:500,weight:"medium",theme:"emphasis"},f&&r.createElement(m.P9,{onDismiss:function(){E(!1)}}),t)))))},M=function(e){var n=e.price,t=n.formatted,i=n.accessibilityLabel,a=e.disclaimer,l=e.textAlign,u=e.enableInlineLink,m=void 0!==u&&u,d=e.onDisclaimerClick,f=e.isKatesStylingEnabled,E=(0,c.useExperiment)("EGDS_remove_info_icon_and_add_inline_link").exposure,g=(0,c.useExperiment)("GT_Carousel_on_Package_Checkout").exposure,p=m&&(0!==E.bucket||0!==g.bucket),y=r.createElement(s.b,{padding:{inlinestart:"half",inlineend:f?"unset":"half"}},r.createElement("div",null,r.createElement(o.c,{className:"is-visually-hidden"},i||t),r.createElement("span",{"aria-hidden":"true"},r.createElement(o.c,{size:f?200:300},r.createElement("del",null,t)))));return a?r.createElement(w,{disclaimer:a,textAlign:l,type:"STRIKEOUT",enableInlineLink:p,onDisclaimerClick:d},y):y},T=function(e){var n=e.price,t=n.formatted,i=n.accessibilityLabel,a=e.disclaimer,l=e.enableInlineLink,u=void 0!==l&&l,m=e.isKatesStylingEnabled,d=(0,c.useExperiment)("Remove_info_icon_from_secondary_price_on_VrBex_US_POSa"),f=d.exposure,E=d.logExperiment;u&&E(f);var g=u&&0!==f.bucket,p=0!==(0,c.useExperiment)("How_travellers_understand_price_summary_visual_and_content_hierarchy").exposure.bucket,y=r.createElement(s.b,{margin:{inline:"half",blockstart:m?"half":"unset"}},r.createElement("div",null,r.createElement(o.c,{className:"is-visually-hidden"},i||t),r.createElement("span",{"aria-hidden":"true"},r.createElement(o.c,{weight:p?"medium":"regular",size:p||m?300:200},t))));return a?r.createElement(w,{disclaimer:a,textAlign:"left",type:"INFORMATIVE",enableInlineLink:g},y):y},K=function(e){var n=e.data,t=e.textAlign,i=e.enableInlineLink,a=void 0!==i&&i,l=e.isKatesStylingEnabled,c=e.onDisclaimerClick;switch(n.role){case"LEAD":return r.createElement(C,h(_({},n),{isKatesStylingEnabled:l}));case"STRIKEOUT":return r.createElement(M,h(_({},n),{textAlign:t,enableInlineLink:a,onDisclaimerClick:c,isKatesStylingEnabled:l}));case"INFORMATIVE":return r.createElement(T,h(_({},n),{enableInlineLink:a,isKatesStylingEnabled:l}));default:return r.createElement(j,_({},n))}};K.fragment=h(_({},N),{__typename:"DisplayPrice"}),K.displayName="PriceMessage",M.displayName="StrikeOutPrice",C.displayName="LeadPrice",j.displayName="FallbackPrice";var V=(0,i.Ps)(P(),K.fragment,L.fragment),F=[K,L],R=function(e){var n,t=e.flexAlignment,i=e.flexDirection,l=void 0===i?"row":i,s=e.index,o=e.displayMessage,u=e.enableInlineLink,m=void 0!==u&&u,d=e.isKatesStylingEnabled,f=e.onDisclaimerClick,E=(0,c.useExperiment)("legal_test_nightly_POSa_total_lead_price_").exposure;return r.createElement(a.i,{space:"one",justifyContent:"row-reverse"===l?"end":t,direction:l,alignItems:"center",wrap:"wrap",dataTestId:"price-summary-message-line"},null==o||null===(n=o.lineItems)||void 0===n?void 0:n.map((function(e,n){var i=(e||{}).__typename,a=F.find((function(e){return e.fragment.__typename===i}));return a?r.createElement(a,{key:"attr-".concat(s,"-").concat(n),data:e,textAlign:"end"===t?"right":"left",enableInlineLink:m,legalNightlyExperimentVariant:E.bucket,onDisclaimerClick:f,isKatesStylingEnabled:d}):null})))},U=function(e){var n,t=e.data,i=e.flexAlignment,c=void 0===i?"end":i,s=e.enableInlineLink,o=void 0!==s&&s,u=e.messageLineFlexDirection,m=e.isKatesStylingEnabled,d=e.onDisclaimerClick,f=t.displayMessages,E={event:{event_type:(n=I).EVENT_TYPE,event_name:n.EVENT_NAME,event_version:n.EVENT_VERSION}};return(null==f?void 0:f.length)?r.createElement(a.i,{direction:"column",dataTestId:"price-summary"},r.createElement(l.Ff,{eventData:E},f.map((function(e,n){return r.createElement(R,{key:"attr-".concat(n),index:n,flexAlignment:c,flexDirection:u,displayMessage:e,enableInlineLink:o,onDisclaimerClick:d,isKatesStylingEnabled:m})})))):null};U.fragment=V,U.displayName="sharedui-PriceSummary",R.displayName="sharedui-MessageLine"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui-pricing-price-summary.d4c0a95373ef4df88754.js.map