/*@license For license information please refer to shared-ui-lodging-property-listing.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9782],{48570:function(e,n,t){t.d(n,{At:function(){return oa},E0:function(){return or},FT:function(){return ir},KT:function(){return cr},PA:function(){return Ka},Qw:function(){return rr},Wj:function(){return pn},Yy:function(){return da},li:function(){return st},q2:function(){return An},tt:function(){return lr},vx:function(){return sa},wW:function(){return tt},zO:function(){return er}});var a=t(38972),r=t(25738),i=t(74170),l=t(93648),o=t(96170),c=t(26246),d=t(49970),s=t(63018),u=t(53483),m=t(55025),g=t(94925),p=t(55058),v=t(23109),f=t(86084),y=t(88694),h=t(60011),E=t(82662),C=t(32173),S=t(23783),b=t(92061),k=t(49006),P=t(33821),L=t(67245),I=t(25652),_=t(48296),x=t(51204),F=t(96221),O=t(50280),N=t(47751),T=t(10626),D=t(83028),A=t(83289),R=t(1740),w=t(83962),B=t(44408),M=t(14555),H=t(19819),G=t(14761),z=t(63188),j=t(84145),V=t(49861),U=t(22241),W=t(43746),$=t(72698),J=t(59039),K=t(14093),Q=t(81214),X=t(73966),q=t(28711),Z=t(40072),Y=t(10309),ee=t(96434),ne=t(58696),te=t(8684),ae=t(85221),re=t(78579);function ie(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function le(e,n,t,a,r,i,l){try{var o=e[i](l),c=o.value}catch(d){return void t(d)}o.done?n(c):Promise.resolve(c).then(a,r)}function oe(e){return function(){var n=this,t=arguments;return new Promise((function(a,r){var i=e.apply(n,t);function l(e){le(i,a,r,l,o,"next",e)}function o(e){le(i,a,r,l,o,"throw",e)}l(void 0)}))}}function ce(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function de(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){ce(e,n,t[n])}))}return e}function se(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function ue(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function me(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,r,i=[],l=!0,o=!1;try{for(t=t.call(e);!(l=(a=t.next()).done)&&(i.push(a.value),!n||i.length!==n);l=!0);}catch(c){o=!0,r=c}finally{try{l||null==t.return||t.return()}finally{if(o)throw r}}return i}}(e,n)||ve(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function pe(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ve(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,n){if(e){if("string"==typeof e)return ie(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ie(e,n):void 0}}function fe(e,n){var t,a,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;l;)try{if(t=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,a=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){l.label=i[1];break}if(6===i[0]&&l.label<r[1]){l.label=r[1],r=i;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(i);break}r[2]&&l.ops.pop(),l.trys.pop();continue}i=n.call(e,l)}catch(o){i=[6,o],a=0}finally{t=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}function ye(){var e=ge(["\n  fragment PlainHeaderMessageFragment on EGDSPlainText {\n    __typename\n    text\n  }\n"]);return ye=function(){return e},e}function he(){var e=ge(["\n  fragment SponsoredContentPlacementFragment on SponsoredContentPlacement {\n    productType\n    sponsoredContentContext {\n      sponsoredContentId\n      variant\n      pageName\n      targeting {\n        adults\n        dateEnd {\n          day\n          month\n          year\n        }\n        dateStart {\n          day\n          month\n          year\n        }\n        kids\n        origin\n        locationResolver\n        destination\n        cruiseDest\n      }\n    }\n  }\n"]);return he=function(){return e},e}function Ee(){var e=ge(["\n  fragment PropertyListingSoldOutFragment on PropertySearchListingsSoldOutCard {\n    cardContent: content {\n      ... on EGDSStandardMessagingCard {\n        heading\n        message\n        graphic {\n          ... on Icon {\n            description\n            id\n            iconSize: size\n            theme\n            title\n            withBackground\n          }\n        }\n      }\n    }\n    actionButton {\n      ... on EGDSButton {\n        __typename\n        primary\n        analytics {\n          referrerId\n          linkName\n        }\n      }\n    }\n    analytics {\n      event\n      referrerId\n      linkName\n    }\n  }\n"]);return Ee=function(){return e},e}function Ce(){var e=ge(["\n  fragment PropertyListingFlexibleDateSearchButtonFragment on FlexibleDateSearchButton {\n    button {\n      ... on UISecondaryButton {\n        primary\n        analytics {\n          referrerId\n          linkName\n        }\n      }\n    }\n    datePeriods {\n      ... on DatePeriod {\n        length\n        unit\n        bound\n      }\n    }\n  }\n"]);return Ce=function(){return e},e}function Se(){var e=ge(["\n  fragment PropertyListingFlexibleDateSearchCardFragment on FlexibleDateSearchCard {\n    cardContent: content {\n      ... on EGDSStandardMessagingCard {\n        background\n        heading\n        message\n        graphic {\n          ...UIGraphicFragment\n        }\n        impressionTracking {\n          ...ImpressionTrackingFragment\n        }\n      }\n    }\n    changeDatesButton {\n      ... on UISecondaryButton {\n        primary\n        analytics {\n          referrerId\n          linkName\n        }\n      }\n    }\n    flexibleDateSearchButtons {\n      ...PropertyListingFlexibleDateSearchButtonFragment\n    }\n  }\n\n  fragment ImpressionTrackingFragment on ClientSideAnalytics {\n    referrerId\n    linkName\n  }\n  ","\n  ","\n"]);return Se=function(){return e},e}function be(){var e=ge(["\n  fragment PropertyListingOverfilteredFragment on PropertySearchListingsOverfilteredCard {\n    cardContent: content {\n      ... on EGDSStandardMessagingCard {\n        heading\n        message\n      }\n    }\n    ...SearchFilterPillsFragment\n    action {\n      ...LodgingLinkButtonFragment\n    }\n    impressionAnalytics {\n      ... on ClientSideImpressionEventAnalytics {\n        event\n        referrerId\n        linkName\n      }\n    }\n  }\n\n  fragment LodgingLinkButtonFragment on LodgingLinkButton {\n    button {\n      ... on UISecondaryButton {\n        accessibility\n        disabled\n        primary\n        analytics {\n          ... on ClientSideAnalytics {\n            referrerId\n            linkName\n          }\n        }\n      }\n    }\n    action {\n      ... on UILinkAction {\n        resource {\n          ... on HttpURI {\n            value\n            relativePath\n          }\n        }\n        target\n        useRelativePath\n      }\n    }\n  }\n\n  ","\n"]);return be=function(){return e},e}function ke(){var e=ge(["\n  fragment PropertyListingStandardMessagingCardFragment on EGDSStandardMessagingCard {\n    graphic {\n      __typename\n      ...UIGraphicFragment\n    }\n    egdsElementId\n    heading\n    message\n    themes\n    links {\n      ...EGDSStandardLinkFragment\n    }\n    impressionTracking {\n      ...PropertyListingStandardMessagingCardAnalyticsFragment\n    }\n  }\n\n  fragment PropertyListingStandardMessagingCardAnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n  }\n  ","\n  ","\n"]);return ke=function(){return e},e}function Pe(){var e=ge(["\n  fragment PropertyListingExpandoCardFragment on PropertyListingsIconTextExpando {\n    graphic {\n      __typename\n      ... on Illustration {\n        link: url\n        description\n        id\n      }\n    }\n    expandoCard {\n      collapsedLabel\n      expandedLabel\n      expanded\n      subtitle\n      expandAnalytics {\n        linkName\n        referrerId\n      }\n      collapseAnalytics {\n        linkName\n        referrerId\n      }\n    }\n    expandedContent {\n      text\n      graphic {\n        __typename\n        ... on Icon {\n          id\n          description\n          token\n          size\n          theme\n        }\n      }\n    }\n  }\n"]);return Pe=function(){return e},e}function Le(){var e=ge(["\n  fragment ResultsMessagingModuleFragment on PropertySearchResults {\n    summary {\n      messagingModule {\n        header {\n          ... on EGDSHeading {\n            text\n          }\n        }\n      }\n    }\n  }\n"]);return Le=function(){return e},e}function Ie(){var e=ge(["\n  fragment SelectedBundleProductCardActionFragment on SelectedBundleProductCardAction {\n    ...ShoppingActionButtonFragment\n    ...ShoppingLinkFragment\n  }\n  ","\n  ","\n"]);return Ie=function(){return e},e}function _e(){var e=ge(["\n  fragment SelectedBundleProductTextFragment on SelectedBundleProductText {\n    ...EGDSSpannableTextFragment\n    ...EGDSStylizedTextFragment\n    ...EGDSPlainTextFragment\n  }\n\n  ","\n  ","\n"]);return _e=function(){return e},e}function xe(){var e=ge(["\n  fragment SelectedBundleProductContentPrimarySectionFragment on SelectedBundleProductContentPrimarySection {\n    badge {\n      ...LodgingBadgeFragment\n    }\n    primary {\n      ...SelectedBundleProductTextFragment\n    }\n    secondary {\n      ...SelectedBundleProductTextFragment\n    }\n  }\n\n  ","\n  ","\n"]);return xe=function(){return e},e}function Fe(){var e=ge(["\n  fragment SelectedBundleProductContentSecondarySectionFragment on SelectedBundleProductContentSecondarySection {\n    primary {\n      ...SelectedBundleProductTextFragment\n    }\n    secondary {\n      ...SelectedBundleProductTextFragment\n    }\n  }\n\n  ","\n"]);return Fe=function(){return e},e}function Oe(){var e=ge(["\n  fragment SelectedBundleProductContentFragment on SelectedBundleProductContent {\n    graphics {\n      ...UIGraphicFragment\n    }\n    primarySection {\n      ...SelectedBundleProductContentPrimarySectionFragment\n    }\n    secondarySections {\n      ...SelectedBundleProductContentSecondarySectionFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return Oe=function(){return e},e}function Ne(){var e=ge(["\n  fragment SelectedBundleProductCardFragment on SelectedBundleProductCard {\n    productContents {\n      ...SelectedBundleProductContentFragment\n    }\n    actions {\n      ...SelectedBundleProductCardActionFragment\n    }\n    featuredHeader\n  }\n\n  ","\n  ","\n"]);return Ne=function(){return e},e}function Te(){var e=ge(["\n  fragment DisclaimerCardFragment on DisclaimerCard {\n    ...EGDSStandardMessagingCardFragment\n  }\n\n  ","\n"]);return Te=function(){return e},e}function De(){var e=ge(["\n  fragment PackageProductCardFragment on PropertySearchResults {\n    packageProductCard {\n      ... on SelectedBundleProductWrapper {\n        disclaimer {\n          ...DisclaimerCardFragment\n        }\n        shoppingJoinListContainer {\n          ...ShoppingJoinListContainerFragment\n        }\n        params {\n          ...ProductActionParamFragment\n        }\n        cards {\n          ...SelectedBundleProductCardFragment\n        }\n      }\n    }\n  }\n\n  fragment ProductActionParamFragment on ShoppingProductCardFunctionParametersContainers {\n    keyValueParams {\n      key\n      value\n    }\n    paramsId\n  }\n  ","\n  ","\n  ","\n"]);return De=function(){return e},e}function Ae(){var e=ge(["\n  fragment PriceDisplayChangeOnboardingContentFragment on PriceDisplayChangeOnboardingContent {\n    button {\n      ...ShoppingActionButtonFragment\n    }\n    disclaimer\n    image {\n      url\n      description\n    }\n    title\n  }\n  ","\n"]);return Ae=function(){return e},e}function Re(){var e=ge(["\n  fragment PriceDisplayChangeOnboardingFragment on PropertySearchResults {\n    summary {\n      priceDisplayChangeOnboardingAction {\n        actionId\n      }\n      shoppingJoinListContainer {\n        ...ShoppingJoinListContainerFragment\n      }\n      shoppingInvokeFunctionParams {\n        keyValueParams {\n          key\n          value\n        }\n        paramsId\n      }\n      contents {\n        content {\n          ...PriceDisplayChangeOnboardingContentFragment\n        }\n        contentId\n      }\n    }\n  }\n  ","\n  ","\n"]);return Re=function(){return e},e}function we(){var e=ge(["\n  fragment ShoppingListingContainerAnalyticsFragment on ShoppingListingContainer {\n    clickstreamAnalytics {\n      ...ContainerClickstreamEventsFragment\n    }\n  }\n\n  fragment ContainerClickstreamEventsFragment on ShoppingListingContainerClickstreamEvents {\n    presented {\n      eventCategory\n      eventName\n    }\n    selected {\n      eventName\n      eventCategory\n    }\n    deselected {\n      eventName\n      eventCategory\n    }\n    experienceTemplateId\n    searchId\n    eventContext {\n      type\n      id\n    }\n    additionalContext {\n      componentName\n      componentId\n      componentPosition\n      contentId\n    }\n    contentListAttributes {\n      ...ShoppingListingContentListAttributesFragment\n    }\n  }\n\n  fragment ShoppingListingContentListAttributesFragment on ShoppingListingContentListAttributes {\n    __typename\n    ... on ProductListContentEventAttributes {\n      productId\n      productLine\n    }\n    ... on DestinationListContentEventAttributes {\n      destinationGeoId\n    }\n    ... on CategoryListContentEventAttributes {\n      categoryId\n      productLine\n    }\n  }\n"]);return we=function(){return e},e}function Be(){var e=ge(["\n  fragment ContainerFormatFragment on ShoppingListingContainerFormat {\n    ...ShoppingCarouselFormatFragment\n  }\n  ","\n"]);return Be=function(){return e},e}function Me(){var e=ge(["\n  fragment ContainerHeadingDisclaimerFragment on LodgingPlainDialog {\n    ... on LodgingPlainDialog {\n      __typename\n      title\n      content\n      primaryUIButton {\n        __typename\n        primary\n      }\n      trigger {\n        __typename\n        icon {\n          __typename\n          id\n          title\n        }\n        clientSideAnalytics {\n          referrerId\n          linkName\n        }\n      }\n    }\n  }\n"]);return Me=function(){return e},e}function He(){var e=ge(["\n  fragment ShoppingListingContainerTriggerFragment on ShoppingListingContainerTrigger {\n    ...ShoppingActionButtonFragment\n  }\n\n  ","\n"]);return He=function(){return e},e}function Ge(){var e=ge(["\n  fragment ContainerHeadingFragment on ShoppingListingContainerHeading {\n    ...LodgingEGDSHeadingFragment\n    ... on ShoppingListingHeader {\n      title\n      subTitle\n      disclaimer {\n        ...ContainerHeadingDisclaimerFragment\n      }\n    }\n  }\n  ","\n  ","\n"]);return Ge=function(){return e},e}function ze(){var e=ge(["\n  fragment ShoppingListingContainerFragment on ShoppingListingContainer {\n    containerHeading: heading {\n      ...ContainerHeadingFragment\n    }\n    items {\n      ...LodgingCardFragment\n      ...ShoppingSelectableImageCardFragment\n    }\n    format {\n      ...ContainerFormatFragment\n    }\n    ...ShoppingListingContainerAnalyticsFragment\n    shoppingJoinListContainer {\n      ...ShoppingJoinListContainerFragment\n    }\n    actionItems {\n      trigger {\n        ...ShoppingListingContainerTriggerFragment\n      }\n      location\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ze=function(){return e},e}function je(){var e=ge(["\n  fragment DynamicMapWrapperFragment on PropertySearchResults {\n    dynamicMap @include(if: $includeDynamicMap) {\n      mapToolbar {\n        ...MapToolbarFragment\n      }\n      autoSearchOnMapMove {\n        ...LodgingEGDSCheckboxFragment\n      }\n      action {\n        ...LodgingEGDSFloatingButtonFragment\n      }\n      adaptExSuccessEvents {\n        ...LodgingAdaptExAnalyticsEventFragment\n      }\n      adaptExAttemptEvents {\n        ...LodgingAdaptExAnalyticsEventFragment\n      }\n      filterPlacement\n      map {\n        ...DynamicMapFragment\n      }\n    }\n    propertySearchListings {\n      ...LodgingCardFragment\n      ...PropertyOverfilteredCardFragment\n    }\n  }\n\n  fragment MapToolbarFragment on MapToolbar {\n    title\n    subtitle\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return je=function(){return e},e}function Ve(){var e=ge(["\n  fragment MapTriggerWrapperFragment on PropertySearchResults {\n    mapTrigger {\n      ...MapTriggerFragment\n    }\n  }\n  ","\n"]);return Ve=function(){return e},e}function Ue(){var e=ge(["\n  fragment ShoppingSearchListingFooterFragment on PropertySearchResults {\n    shoppingSearchListingFooter {\n      ...ShoppingListingContainerFragment\n    }\n  }\n  ","\n"]);return Ue=function(){return e},e}function We(){var e=ge(["\n  fragment PropertyListingsToastFragment on EGDSToast {\n    text\n  }\n"]);return We=function(){return e},e}function $e(){var e=ge(["\n  fragment NestedListingExpandoCardContainerFragment on ShoppingListingExpandoCardContainer {\n    graphic {\n      ...UIGraphicFragment\n    }\n    expando {\n      collapsedLabel\n      expandedLabel\n      expanded\n      subtitle\n      expandAnalytics {\n        linkName\n        referrerId\n      }\n      collapseAnalytics {\n        linkName\n        referrerId\n      }\n    }\n  }\n\n  ","\n"]);return $e=function(){return e},e}function Je(){var e=ge(["\n  fragment NestedListingContainerTabsLayoutFragment on EGDSBasicTabs {\n    __typename\n    tabs {\n      ... on EGDSTab {\n        tabId\n        label\n      }\n    }\n  }\n"]);return Je=function(){return e},e}function Ke(){var e=ge(["\n  fragment NestedListingContainerLayoutFragment on NestedListingContainerLayout {\n    ...NestedListingContainerTabsLayoutFragment\n    ...NestedListingExpandoCardContainerFragment\n  }\n\n  ","\n  ","\n"]);return Ke=function(){return e},e}function Qe(){var e=ge(["\n  fragment NestedListingContainerFragment on NestedListingContainer {\n    nestedContainerHeading: heading {\n      ...ContainerHeadingFragment\n    }\n    items {\n      ...ShoppingListingContainerFragment\n      ...RangeIndicatorCardFragment\n    }\n    layout {\n      ...NestedListingContainerLayoutFragment\n    }\n    impressionAnalytics {\n      linkName\n      referrerId\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return Qe=function(){return e},e}function Xe(){var e=ge(["\n  fragment RecentlyViewedPropertiesCarouselWrapperFragment on RecentlyViewedPropertiesCarouselWrapper {\n    __typename\n  }\n"]);return Xe=function(){return e},e}function qe(){var e=ge(["\n  fragment LodgingStaticMultiItemCrossSellFragment on StaticLodgingMultiItemCrossSell {\n    crossSellProductType\n    fallbackListing {\n      ...MessageResultFragment\n    }\n    multiItemSearchContext {\n      properties {\n        primary {\n          dateRange {\n            checkInDate {\n              day\n              month\n              year\n            }\n            checkOutDate {\n              day\n              month\n              year\n            }\n          }\n          destination {\n            coordinates {\n              latitude\n              longitude\n            }\n            mapBounds {\n              latitude\n              longitude\n            }\n            pinnedPropertyId\n            propertyIds\n            regionId\n            regionName\n          }\n          rooms {\n            adults\n            children {\n              age\n            }\n          }\n        }\n        secondary {\n          booleans {\n            id\n            value\n          }\n          counts {\n            id\n            value\n          }\n          dates {\n            id\n            value {\n              day\n              month\n              year\n            }\n          }\n          ranges {\n            id\n            max\n            min\n          }\n          selections {\n            id\n            value\n          }\n        }\n      }\n    }\n  }\n\n  ","\n"]);return qe=function(){return e},e}function Ze(){var e=ge(["\n  fragment PropertySearchListingPlaceholderFragment on PropertySearchListingPlaceholder {\n    loadingComponent\n  }\n"]);return Ze=function(){return e},e}function Ye(){var e=ge(["\n  fragment ListingFragment on PropertySearchListing {\n    ...LodgingIntentCardFragment\n    ...LodgingCardFragment\n    ...LodgingHeadingFragment\n    ...LodgingStaticMultiItemCrossSellFragment\n    ...MessageResultFragment\n    ...SponsoredContentPlacementFragment\n    ...PropertyListingSoldOutFragment\n    ...PropertyListingOverfilteredFragment\n    ...PropertyListingStandardMessagingCardFragment\n    ...PropertyListingExpandoCardFragment\n    ...SparkleBannerFragment\n    ...PropertySearchListingPlaceholderFragment\n    ...EGDSStandardMessagingCardFragment\n    ...PropertyListingFlexibleDateSearchCardFragment\n    ...RecentlyViewedPropertiesCarouselWrapperFragment\n    ...ShoppingListingContainerFragment\n    ...NestedListingContainerFragment\n    ...TotalPriceReassuranceCardFragment\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Ye=function(){return e},e}function en(){var e=ge(["\n  fragment PropertyListingFragment on PropertySearchResults {\n    propertyListingAdaptexAnalyticsSuccessEvents {\n      ...LodgingAdaptExAnalyticsEventFragment\n    }\n    propertySearchListings {\n      ...ListingFragment\n    }\n    pagination {\n      ...PropertyListingPaginationFragment\n    }\n    propertyListingsToast {\n      ...PropertyListingsToastFragment\n    }\n    criteria {\n      primary {\n        dateRange {\n          checkInDate {\n            year\n            month\n            day\n          }\n          checkOutDate {\n            year\n            month\n            day\n          }\n        }\n        destination {\n          regionId\n          regionName\n        }\n        rooms {\n          adults\n          children {\n            age\n          }\n        }\n        flexSearchCriteria {\n          flexibility {\n            bound\n            unit\n            length\n          }\n          searchRange {\n            start {\n              year\n              month\n              day\n            }\n            end {\n              year\n              month\n              day\n            }\n          }\n          flexibleSearchRequirement\n        }\n      }\n      secondary {\n        booleans {\n          ...PropertyListingPaginationSecondaryCriteriaBooleansFragment\n        }\n        counts {\n          id\n          value\n        }\n        dates {\n          id\n          value {\n            year\n            month\n            day\n          }\n        }\n        ranges {\n          id\n          max\n          min\n        }\n        selections {\n          id\n          value\n        }\n      }\n    }\n    summary {\n      header {\n        ...LodgingHeaderFragment\n      }\n    }\n    ...ShoppingSearchListingFooterFragment\n  }\n\n  fragment PropertyListingPaginationFragment on LodgingPagination {\n    paginationLabel\n    trigger {\n      __typename\n      ... on LodgingPaginationNavigationButtons {\n        previousButton {\n          accessibility\n          analytics {\n            linkName\n            referrerId\n          }\n          disabled\n          icon {\n            token\n          }\n          primary\n        }\n        nextButton {\n          accessibility\n          analytics {\n            referrerId\n            linkName\n          }\n          disabled\n          icon {\n            token\n          }\n          primary\n        }\n      }\n      ...PropertyListingPaginationTriggerUIPrimaryButtonFragment\n      ... on LodgingScrollTrigger {\n        triggerAfterPosition\n        analytics {\n          linkName\n          referrerId\n        }\n      }\n    }\n    subSets {\n      ...PropertyListingPaginationSubSetsFragment\n    }\n  }\n\n  fragment PropertyListingPaginationSecondaryCriteriaBooleansFragment on BooleanValue {\n    id\n    value\n  }\n\n  fragment PropertyListingPaginationSubSetsFragment on LodgingPaginationSubSets {\n    nextSubSet {\n      ...PropertyListingPaginationSubSetFragment\n    }\n    previousSubset {\n      ...PropertyListingPaginationSubSetFragment\n    }\n  }\n\n  fragment PropertyListingPaginationSubSetFragment on LodgingPaginationSubSet {\n    size\n    startingIndex\n  }\n\n  fragment PropertyListingPaginationTriggerUIPrimaryButtonFragment on UIPrimaryButton {\n    analytics {\n      linkName\n      referrerId\n    }\n    action {\n      analytics {\n        linkName\n        referrerId\n      }\n      accessibility\n    }\n    accessibility\n    disabled\n    egdsElementId\n    icon {\n      description\n      id\n      title\n    }\n    primary\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return en=function(){return e},e}function nn(){var e=ge(["\n  fragment ResultsHeadingFragment on PropertySearchResults {\n    summary {\n      resultsHeading\n    }\n  }\n"]);return nn=function(){return e},e}function tn(){var e=ge(["\n  fragment ProductResultsSummaryTextContentFragment on ProductResultsSummaryTextContent {\n    title\n    textList\n  }\n"]);return tn=function(){return e},e}function an(){var e=ge(["\n  fragment ProductResultsSummaryContentFragment on ProductResultsSummaryContentContainer {\n    contentId\n    content {\n      __typename\n      ... on ProductResultsSummaryTextContent {\n        ...ProductResultsSummaryTextContentFragment\n      }\n      ... on PriceDisplayChangeOnboardingContent {\n        ...PriceDisplayChangeOnboardingContentFragment\n      }\n    }\n  }\n  ","\n  ","\n"]);return an=function(){return e},e}function rn(){var e=ge(["\n  fragment LoyaltyRewardsToggleFragment on PropertyLoyaltyDiscount {\n    pointsToggle {\n      checked\n      checkedAccessibilityLabel\n      checkedDescription\n      checkedLabel\n      checkedAnalytics {\n        linkName\n        referrerId\n      }\n      uncheckedAccessibilityLabel\n      uncheckedLabel\n      uncheckedDescription\n      uncheckedAnalytics {\n        linkName\n        referrerId\n      }\n    }\n  }\n"]);return rn=function(){return e},e}function ln(){var e=ge(["\n  fragment ResultsSubHeaderFragment on PropertySearchResults {\n    summary {\n      resultMessages {\n        ...ResultMessagesFragment\n      }\n      matchedPropertiesSize\n      resultsHeading\n      loyaltyInfo {\n        ...LoyaltyRewardsToggleFragment\n      }\n      shoppingJoinListContainer {\n        actions {\n          accessibility\n          analytics {\n            linkName\n            referrerId\n          }\n          event {\n            eventCategory\n            eventName\n            eventType\n            eventVersion\n          }\n          actionId\n          ... on ShoppingNavigateToOverlay {\n            overlayId\n          }\n          ... on ShoppingNavigateToURI {\n            resource {\n              value\n              ... on HttpURI {\n                relativePath\n              }\n            }\n            target\n            useRelativePath\n          }\n          ... on ShoppingInvokeFunction {\n            name\n            paramsId\n            functionType\n          }\n          ... on ShoppingScrollsToView {\n            targetRef\n          }\n        }\n        overlays {\n          ...ProductCardOverLayFragment\n        }\n      }\n      contents {\n        ...ProductResultsSummaryContentFragment\n      }\n    }\n  }\n\n  fragment ResultMessagesFragment on LodgingSearchResultHeaderMessage {\n    ...PlainHeaderMessageFragment\n    ...LodgingMoreInfoTriggerFragment\n    ...ShoppingLinkFragment\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ln=function(){return e},e}function on(){var e=ge(["\n  fragment ShoppingSearchListingHeaderFragment on PropertySearchResults {\n    shoppingSearchListingHeader {\n      ...ShoppingListingContainerFragment\n    }\n  }\n  ","\n"]);return on=function(){return e},e}function cn(){var e=ge(["\n  query PropertyListingQuery(\n    $context: ContextInput!\n    $destination: DestinationInput!\n    $rooms: [RoomInput!]\n    $dateRange: PropertyDateRangeInput\n    $sort: PropertySort\n    $filters: PropertySearchFiltersInput\n    $marketing: PropertyMarketingInfoInput\n    $propertyShopOptions: PropertyShopOptionsInput\n    $searchPagination: PaginationInput\n    $searchIntent: SearchIntentInput\n    $shoppingContext: ShoppingContextInput\n    $criteria: PropertySearchCriteriaInput\n    $productShoppingCriteriaInput: ProductShoppingCriteriaInput\n    $returnPropertyType: Boolean = false\n    $includeDynamicMap: Boolean = false\n  ) {\n    propertySearch(\n      context: $context\n      destination: $destination\n      rooms: $rooms\n      dateRange: $dateRange\n      sort: $sort\n      filters: $filters\n      marketing: $marketing\n      propertyShopOptions: $propertyShopOptions\n      searchPagination: $searchPagination\n      searchIntent: $searchIntent\n      shoppingContext: $shoppingContext\n      criteria: $criteria\n      productShoppingCriteriaInput: $productShoppingCriteriaInput\n      returnPropertyType: $returnPropertyType\n    ) {\n      ...PropertySearchResultsFragment\n    }\n  }\n  fragment PropertySearchResultsFragment on PropertySearchResults {\n    ...PropertyListingFragment\n    ...DynamicMapWrapperFragment\n    ...ResultsSubHeaderFragment\n    ...PriceDisplayChangeOnboardingFragment\n    ...MapTriggerWrapperFragment\n    ...ResultsMessagingModuleFragment\n    ...PackageProductCardFragment\n    ...ShoppingSearchListingHeaderFragment\n    errorResponse {\n      button {\n        disabled\n      }\n    }\n    legalDisclaimer {\n      content {\n        markupType\n        text\n      }\n    }\n    clickstream {\n      additionalEvents\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return cn=function(){return e},e}var dn=(0,o.Ps)(ye()),sn=function(e){var n=e.data,t=e.fontWeight,r=void 0===t?"medium":t,i=e.fontSize,o=void 0===i?200:i,s=e.align;return a.createElement(l.l_,null,a.createElement(l.Vk,null,a.createElement(c.b,{padding:{blockend:"one"}},a.createElement(d.c,{align:null!=s?s:"center",size:o,weight:r,"data-stid":"results-header-message"},n.text))),a.createElement(l.N0,null,a.createElement(c.b,{padding:{blockend:"one"}},a.createElement(d.c,{align:null!=s?s:"left",size:o,weight:r,"data-stid":"results-header-message"},n.text))))};sn.fragment=dn,sn.displayName="PlainHeaderMessage";var un,mn={center:"center",left:"start"},gn=(ce(un={},l.Cu.SMALL,{space:"one",direction:"column",alignItems:"center"}),ce(un,l.Cu.LARGE,{direction:"column"}),un),pn=function(e){var n=e.messages,t=e.fontWeight,o=void 0===t?"regular":t,c=e.fontSize,d=void 0===c?200:c,s=e.overlayContent,u=e.title,m=e.subtitle,g=e.alignment,p=e.standardLinkFontWeight,v=void 0===p?"regular":p,f=(0,l.uQ)(gn);return n?a.createElement(a.Fragment,null,n.map((function(e,n){switch(e.__typename){case"EGDSPlainText":return a.createElement(sn,{data:e,key:"header-message-".concat(n),fontWeight:o,fontSize:d,align:g});case"EGDSStandardLink":return a.createElement(i.N$x,{data:e,key:"header-message-".concat(n),fontWeight:v,fontSize:d,align:g});case"ShoppingLink":return a.createElement(r.i,se(de({},f),{alignItems:g?mn[g]:void 0}),a.createElement(r.j,null,a.createElement("div",null,a.createElement(i.Gvv,{data:e,key:"header-message-".concat(n),inline:!1,overlayContent:s,title:u,subtitle:m,className:"uitk-text uitk-type-200 uitk-text-default-theme",useShoppingActionPackage:!0}))));default:return null}}))):null};pn.displayName="sharedui-PropertyListingHeaderMessages";var vn=function(e){var n=e.searchCriteriaInput,t=e.sponsoredContentContextInput,r=e.onClickCallback,i=e.onHoverChanged,l=a.useMemo((function(){return{sponsoredContentContextInput:t,searchCriteriaInput:n}}),[]);return a.createElement(m.Experiment,{name:"MeSo_Featured_Brand_Carousel_Recs_Migration"},a.createElement(m.ExperimentControl,null,a.createElement(g.w,{inputs:l,skipSsr:!0,name:"featured-brand-carousel",onCardClickCallback:r,onHoverChanged:i})),a.createElement(m.ExperimentVariant,{bucket:1},a.createElement(p.EA,{inputs:se(de({},l),{configurationIdentifier:"featured_brand_carousel:lodging_srp",pageId:"search-results"}),skipSsr:!0,lob:"LODGING",contentSize:p._3.LONG_FORM_FEATURED,layoutOptions:{itemsVisible:{lg:3,md:3,sm:1},cardOptions:{detailsListOptions:{hasWrap:!1,hasMinWidth:!1,hasCustomSpace:!0}}}})))},fn={MOBILE_PHONE:"sm",APP_PHONE:"sm",MOBILE_TABLET:"md",APP_TABLET:"md",DESKTOP:"lg"},yn=function(e){return{id:"minCarouselAds",value:((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lg:2,md:2,sm:1})[fn[e]]+1).toString()}},hn=function(e){var n=e.criteria,t=e.onClickCallback,r=e.onHoverChanged,i=(0,v.v)().context,l=(0,m.useExperiment)("Slimmer_cards_on_TravelAds_non_recommended_sort_carousels"),o=l.exposure,d=l.logExperiment,s=(0,a.useMemo)((function(){return 1===o.bucket?{lg:3,md:3,sm:1}:{lg:2,md:2,sm:1}}),[o.bucket]);if((0,a.useEffect)((function(){d(o)}),[s]),!n)return null;var u,g=function(e,n){var t,a=e.primary,r=e.secondary,i=a.dateRange,l=null==a?void 0:a.rooms.map((function(e){var n;return se(de({},e),{adults:e.adults,children:null===(n=e.children)||void 0===n?void 0:n.map((function(e){return e.age}))})})),o=null==i?void 0:i.checkInDate,c=null==i?void 0:i.checkOutDate,d=e.primary.destination,s=d.regionId?{id:d.regionId}:null,u=pe((null==r?void 0:r.selections)||[]).concat([yn(n.device.type,{lg:2,md:2,sm:1})]),m=null!==(t=d.coordinates)&&void 0!==t?t:{latitude:200,longitude:200};return{configurationIdentifier:"lodging_srp:lodging_sponsored_properties",contentSize:y._3.LONG_FORM_FEATURED,offeringType:y.Pm.PRODUCT,strategy:y.r2.SPONSORED,containerType:y.lj.CAROUSEL,priceStrategy:y.js.LIVE,input:[y.to.DESTINATION],recommendationContext:{outputLineOfBusiness:y.Ko.LODGING,destination:{placeId:s,placeCoordinates:m},pageId:"HS",lodging:{checkin:o,checkout:c,rooms:l,searchCriteria:{selections:u}}},placementId:"168"}}(n,i);return a.createElement(m.Experiment,{name:"Web_migrate_TravelAds_SRP_Carousel_to_Recs_module"},a.createElement(m.ExperimentControl,null,a.createElement(f.uw,{inputs:{criteria:n,shoppingContext:null},itemsVisible:s,skipSsr:!0,onClickCallback:t,onHoverChanged:r})),a.createElement(m.ExperimentVariant,{bucket:1},a.createElement(h.A,null,a.createElement(c.b,{border:["blockstart","blockend"],padding:{block:"six",small:{block:"three"}},margin:{small:{inline:"three"},medium:{inline:"unset"}}},a.createElement(y.AH,{inputs:g,layoutOptions:(u=s,1===o.bucket?{itemsVisible:u,cardOptions:{detailsListOptions:{hasWrap:!1,hasMinWidth:!1,hasCustomSpace:!0}}}:{itemsVisible:u}),onClickCallback:t,onHoverChanged:r})))))};hn.displayName="SponsoredPropertiesCarouselWrapper";var En=(0,o.Ps)(he());var Cn=function(e){var n,t=e.criteria,r=e.data,i=e.onClickCallback,l=e.onHoverChanged,o=r.productType,c=r.sponsoredContentContext,d=(n=c,JSON.parse(JSON.stringify(n,(function(e,n){return e.startsWith("__")?void 0:n})))),m=t?{properties:[t]}:{properties:null},g="Acceptable_Ads_Component_Enablement",p={primarySearchCriteria:{property:null==t?void 0:t.primary},secondaryCriteria:null==t?void 0:t.secondary},v=a.useMemo((function(){return{sponsoredContentContext:d,shoppingCriteriaInput:p}}),[]);if(void 0!==d.targeting)switch(o){case"BRAND_RESULT_LISTING_LODGING":case"BRAND_RESULT_LISTING":return a.createElement(s.A,{inputs:v,skipSsr:!0,impressionOnly:!1,rooms:null==t?void 0:t.primary.rooms,adBlockCollapseExperiment:g});case"MULTI_LISTING_AD":return a.createElement(vn,{searchCriteriaInput:m,sponsoredContentContextInput:d,onClickCallback:i,onHoverChanged:l});case"DESTINATION_EXPERIENCE":return a.createElement(u.r,{inputs:{sponsoredContentContext:d},adBlockCollapseExperiment:g,skipSsr:!0});case"SPONSORED_PROPERTIES_CAROUSEL":return a.createElement(hn,{criteria:t,onClickCallback:i,onHoverChanged:l});default:return null}return null};Cn.fragment=En,Cn.displayName="SponsoredContentPlacement";var Sn=(0,o.Ps)(Ee()),bn=function(e){var n=e.data,t=n.cardContent,l=n.analytics,o=n.actionButton,s=e.onClick,u=(0,b.Gv)(),m=a.createElement(c.b,{margin:{blockstart:"three"}},a.createElement(C.i,null,a.createElement(c.b,{padding:{block:"twelve"}},a.createElement(r.i,{direction:"column",justifyContent:"center",alignItems:"center"},(null==t?void 0:t.graphic)&&function(e){if("Icon"===(null==e?void 0:e.__typename)){var n,t,r=e.withBackground?"info":void 0;return a.createElement(S.a,{spotlight:r,name:e.id,id:e.id,title:null!==(n=null==e?void 0:e.title)&&void 0!==n?n:void 0,theme:null!==(t=null==e?void 0:e.theme)&&void 0!==t?t:void 0,description:null==e?void 0:e.description,size:(null==e?void 0:e.iconSize)?i._eq[e.iconSize]:void 0})}return null}(t.graphic),(null==t?void 0:t.heading)&&a.createElement(c.b,{margin:{blockstart:"six",blockend:"two"},padding:{inline:"three"}},a.createElement(d.E,{tag:"h3",size:4,align:"center"},t.heading)),(null==t?void 0:t.message)&&a.createElement(d.c,{size:400},t.message),o&&a.createElement(E.E,{onClick:function(){if(null==o?void 0:o.analytics){var e=o.analytics,n=e.referrerId,t=e.linkName;u(n,t)}null==s||s()}},o.primary)))));return l?a.createElement(b.Pt,{referrerId:l.referrerId,linkName:l.linkName||""},m):m};bn.fragment=Sn,bn.displayName="PropertyListingSoldOut";var kn=function(e){var n=e.impressionTracking,t=e.children;return n?a.createElement(b.Pt,{referrerId:n.referrerId,linkName:n.linkName||""},t):a.createElement(a.Fragment,null,t)},Pn=(0,o.Ps)(Ce()),Ln=function(e){var n=e.data,t=e.onFlexibleDateButtonClick,r=n.button,i=n.datePeriods,l=(0,b.Gv)();if(r&&i&&t){return a.createElement(c.b,{margin:{inlinestart:"three",blockend:"three"}},a.createElement(E.E,{onClick:function(){if(r.analytics){var e=r.analytics,n=e.referrerId,a=e.linkName;l(n,a)}var o=i.map((function(e){return{unit:e.unit,length:e.length,bound:e.bound}}));t(o)}},r.primary))}return null};Ln.fragment=Pn,Ln.displayName="PropertyListingFlexibleDateSearchButton";var In=(0,o.Ps)(Se(),i.SXg.fragment,Ln.fragment),_n=function(e){var n,t=e.data,l=e.onChangeDatesClick,o=e.onFlexibleDateButtonClick,s=t.cardContent,u=t.changeDatesButton,m=t.flexibleDateSearchButtons,g=(0,b.Gv)();return a.createElement(kn,{impressionTracking:null==s?void 0:s.impressionTracking},a.createElement(c.b,{margin:{blockstart:"three"}},a.createElement(C.i,{backgroundTheme:null!==(n=null==s?void 0:s.background)&&void 0!==n?n:C.h.SECONDARY},a.createElement(c.b,{padding:{block:"six",inline:"six"}},a.createElement(r.i,{direction:"column",alignItems:"center"},a.createElement(r.j,null,(null==s?void 0:s.graphic)&&a.createElement(i.SXg,{data:s.graphic})),a.createElement(r.j,null,(null==s?void 0:s.heading)&&a.createElement(c.b,{margin:{blockstart:"two"}},a.createElement(d.E,{size:5,align:"center"},s.heading))),a.createElement(r.j,null,(null==s?void 0:s.message)&&a.createElement(d.c,{size:400,align:"center"},s.message)),a.createElement(r.j,null,a.createElement(c.b,{margin:{blockstart:"six"}},a.createElement(r.i,{wrap:"wrap",justifyContent:"center"},null==m?void 0:m.map((function(e,n){return a.createElement(r.j,{key:n},a.createElement(Ln,{onFlexibleDateButtonClick:o,data:e}))})),a.createElement(r.j,null,a.createElement(c.b,{margin:{inlinestart:"three",blockend:"three"}},u&&a.createElement(E.E,{size:k.E.SMALL,onClick:function(){if(null==u?void 0:u.analytics){var e=u.analytics,n=e.referrerId,t=e.linkName;g(n,t)}null==l||l()}},u.primary)))))))))))};_n.fragment=In,_n.displayName="PropertyListingFlexibleDateSearchCard";var xn=(0,o.Ps)(be(),i.SUD.fragment),Fn=function(e){var n=e.data,t=e.onRemoveAllFilters,o=e.onFilterPillRemoval,s=n.cardContent,u=n.impressionAnalytics,m=n.action,g=s||{},p=g.heading,v=g.message,f=(0,l.lS)({viewSizes:l.wl})<=l.wl[l.Cu.MEDIUM],y=a.createElement(a.Fragment,null,p?a.createElement(d.E,{size:4,tag:f?"h4":"h5",align:"center"},p):null,v?a.createElement(c.b,{margin:{blockstart:"two",blockend:"one"}},a.createElement(d.c,{size:400},v)," "):null),h=a.createElement(c.b,{margin:{blockstart:"four",inline:"three"}},a.createElement(r.i,null,a.createElement(i.SUD,{data:n,disabled:!1,onFilterPillRemoval:o}))),S="UISecondaryButton"===(null==m?void 0:m.button.__typename)?a.createElement(c.b,{margin:{blockstart:"six"}},a.createElement(E.E,{"data-stid":"remove-all-filters",onClick:function(){return null==t?void 0:t(m)}},null==m?void 0:m.button.primary)):null,k=a.createElement("div",{"data-stid":"over-filtered-banner"},a.createElement(C.i,null,a.createElement(c.b,{padding:{block:"six"}},a.createElement(r.i,{direction:"column",alignItems:"center"},y,h,S))));return u?a.createElement(b.Pt,{referrerId:u.referrerId,linkName:u.event},k):k};Fn.fragment=xn,Fn.displayName="PropertyListingOverfiltered";var On=(0,o.Ps)(ke(),i.SXg.fragment,i.hPt.fragment),Nn=function(e){var n,t,l=e.data,o=e.onClick,c=e.showBorder,s=void 0!==c&&c,u=(0,P.s0)(),m=l.graphic,g=l.heading,p=l.message,v=l.themes,f=l.links,y=l.impressionTracking,h=(null==v?void 0:v.includes("BORDERED"))||s,E=a.createElement(C.i,{padded:!0,border:h},a.createElement(r.i,{space:"three"},m&&a.createElement(r.j,{maxWidth:"12x",alignSelf:"center"},"Icon"===m.__typename?a.createElement("div",null,a.createElement(i.SXg,{data:m})):a.createElement(i.SXg,{data:m})),a.createElement(r.j,{alignSelf:"center"},a.createElement(r.i,{direction:"column"},g&&a.createElement(r.j,null,a.createElement(d.E,{tag:"h3",size:7},g)),a.createElement(r.j,null,a.createElement(d.c,null,p)),f&&a.createElement(r.j,null,a.createElement(L.E,{bullet:"no-bullet",orientation:"inline"},null==f?void 0:f.map((function(e,n){return a.createElement(L.a,{key:n},a.createElement(i.hPt,{data:e,onClick:function(){return t=(n=e).action.resource,a="HttpURI"===t.__typename&&n.action.useRelativePath&&t.relativePath,void(o?o(null==l?void 0:l.egdsElementId):a&&u(a));var n,t,a}}))}))))))));return a.createElement(b.Pt,{referrerId:null!==(n=null==y?void 0:y.referrerId)&&void 0!==n?n:"",linkName:null!==(t=null==y?void 0:y.linkName)&&void 0!==t?t:""},E)};Nn.fragment=On,Nn.displayName="PropertyListingStandardMessagingCard";var Tn=(0,o.Ps)(Pe()),Dn=function(e){var n=e.data,t=n.graphic,i=n.expandoCard,l=n.expandedContent,o=(0,b.Gv)(),s=me(a.useState(!!i&&i.expanded),2),u=s[0],m=s[1],g=me(a.useState((null==i?void 0:i.collapsedLabel)||""),2),p=g[0],v=g[1],f=a.useCallback((function(e,n){o(e,n)}),[o]);if(!i||!l)return null;var y,h=a.createElement(c.b,{padding:"three",margin:{inlinestart:"three",blockstart:"three"}},a.createElement("div",null,a.createElement(L.E,{bullet:"icon-alternate",data:l.map((function(e){return{content:e.text,icon:"Icon"===e.graphic.__typename&&a.createElement(d.c,null,a.createElement(S.a,{theme:e.graphic.theme||void 0,size:S.E[e.graphic.size||"SMALL"],name:e.graphic.id}))||void 0}}))})));return a.createElement(C.i,null,a.createElement(C.m,null,a.createElement(I.d,null,a.createElement(I.e,{isVisible:u,isIndented:!1,expandoTitle:(y=p,a.createElement(r.i,{space:"three",alignItems:"center"},"Illustration"===(null==t?void 0:t.__typename)&&a.createElement(r.j,{maxWidth:"12x",alignSelf:"center"},a.createElement(_.a,{ratio:_.E.R1_1,imageFit:"contain"},a.createElement(_.b,{src:t.link,alt:t.description}))),a.createElement(r.i,{direction:"column"},a.createElement(d.c,null,a.createElement(d.E,{size:7},y)),i.subtitle&&a.createElement(d.b,null,i.subtitle)))),expandoDescription:h,onToggle:function(){m(!u),v(u?i.collapsedLabel:i.expandedLabel)},triggerPosition:"trailing",analytics:i.collapseAnalytics&&i.expandAnalytics&&{id:u?i.expandAnalytics.referrerId:i.collapseAnalytics.referrerId,description:u?i.expandAnalytics.linkName:i.collapseAnalytics.linkName,callback:f}||void 0}))))};Dn.displayName="PropertyListingExpandoCard",Dn.fragment=Tn;var An=function(e){var n=e.text;if(!n)return null;var t={tag:"h3",overflow:"truncate-3-lines"};return a.createElement(l.l_,null,a.createElement(l.Vk,null,a.createElement(d.E,se(de({},t),{size:6}),n)),a.createElement(l.N2,null,a.createElement(d.E,se(de({},t),{size:5}),n)))};An.displayName="ResultsMessagingModuleHeading";var Rn=(0,o.Ps)(Le()),wn=function(e){var n,t,r=e.data,i=e.error,l=null==r||null===(t=r.summary.messagingModule)||void 0===t||null===(n=t.header)||void 0===n?void 0:n.text;return!l||i?null:a.createElement(An,{text:l})};wn.displayName="ResultsMessagingModule",wn.fragment=Rn;var Bn,Mn=(Bn=oe((function(e,n,t){var a,r,i,l,o,c,d,s,u,m;return fe(this,(function(g){switch(g.label){case 0:return t?(c={context:n,sessionId:null!==(i=Hn(t,"misId"))&&void 0!==i?i:"",priceToken:null!==(l=Hn(t,"priceToken"))&&void 0!==l?l:"",properties:[JSON.parse(null!==(o=Hn(t,"propertyNaturalKeyInput"))&&void 0!==o?o:"")],changeAction:Hn(t,"action")},[4,e(c,"CHANGE_SELECTED_PRODUCT")]):[2];case 1:return d=g.sent(),u=d.success&&(null!==(s=null==d||null===(r=d.data)||void 0===r||null===(a=r.multiItemShopping)||void 0===a?void 0:a.changeSelectedProduct)&&void 0!==s?s:{}),(m=u&&"redirectUrl"in u&&u.redirectUrl)&&(window.location.href=m),[2]}}))})),function(e,n,t){return Bn.apply(this,arguments)}),Hn=function(e,n){var t;return e?null===(t=e.filter((function(e){return e.key===n}))[0])||void 0===t?void 0:t.value:null},Gn=function(e){var n=(0,v.v)().context,t=(0,O.ok)();return function(a,r,i){var l=null==e?void 0:e.find((function(e){return e.paramsId===i}));!function(e,n,t,a){"changeSelectedProduct"===t&&Mn(n.changeSelectedProduct,e,a)}(n,t,r,null==l?void 0:l.keyValueParams)}},zn=(0,o.Ps)(Ie(),F.Ac.fragment,i.Gvv.fragment),jn=function(e){var n=e.data;switch(n.__typename){case"ShoppingButton":return a.createElement(F.Ac,{data:n,size:k.E.SMALL});case"ShoppingLink":return a.createElement(i.Gvv,{data:n,useShoppingActionPackage:!0});default:return null}};jn.fragment=zn,jn.displayName="SelectedBundleProductCardAction";var Vn=(0,o.Ps)(_e(),i.dje.fragment,i.K1H.fragment),Un=function(e){var n=e.data;switch(n.__typename){case"EGDSSpannableText":return a.createElement(i.dje,{data:n,size:200});case"EGDSStylizedText":return a.createElement(i.K1H,{data:n,size:200});case"EGDSPlainText":return a.createElement(i.aJU,{data:n,size:200});default:return null}};Un.fragment=Vn,Un.displayName="SelectedBundleProductText";var Wn=(0,o.Ps)(xe(),i.yxv.fragment,Un.fragment),$n=function(e){var n=e.data,t=n.badge,l=n.primary,o=n.secondary;return a.createElement(a.Fragment,null,a.createElement(r.j,null,a.createElement(r.i,{alignItems:"center",space:"two"},"EGDSStandardBadge"===(null==t?void 0:t.__typename)&&a.createElement(r.j,null,a.createElement(i.yxv,{data:t})),a.createElement(r.j,null,a.createElement(r.i,{alignItems:"center",space:"half"},a.createElement(r.j,null,a.createElement(Un,{data:l})))))),o&&a.createElement(r.j,null,a.createElement(Un,{data:o})))};$n.fragment=Wn,$n.displayName="SelectedBundleProductContentPrimarySection";var Jn=(0,o.Ps)(Fe(),Un.fragment),Kn=function(e){var n=e.data,t=n.primary,r=n.secondary;return a.createElement(x.a,null,a.createElement(x.E,{space:"one",rows:2},a.createElement(x.a,null,a.createElement(Un,{data:t})),r&&a.createElement(x.a,null,a.createElement(Un,{data:r}))))};Kn.fragment=Jn,Kn.displayName="SelectedBundleProductContentSecondarySection";var Qn=(0,o.Ps)(Oe(),i.SXg.fragment,$n.fragment,Kn.fragment),Xn=function(e){var n=e.data,t=n.graphics,o=n.primarySection,c=n.secondarySections,d=a.createElement(r.i,{direction:"column",space:"one"},a.createElement($n,{data:o}),a.createElement(r.j,null,a.createElement(r.i,{space:"three"},null==t?void 0:t.map((function(e,n){return a.createElement(r.j,{key:"graphic-section-".concat(n)},a.createElement(i.SXg,{data:e,markSize:8}))})),a.createElement(r.j,{grow:1},a.createElement(x.E,{space:"three",columns:2},null==c?void 0:c.map((function(e,n){return a.createElement(Kn,{key:"secondary-section-".concat(n),data:e})}))))))),s=a.createElement(x.E,{space:"three",columns:2},a.createElement(x.a,null,a.createElement(r.i,{space:"three"},null==t?void 0:t.map((function(e,n){return a.createElement(r.j,{key:"graphic-section-".concat(n)},a.createElement(i.SXg,{data:e,markSize:10}))})),a.createElement(r.j,{grow:1},a.createElement(x.E,{space:"one",rows:2},a.createElement(x.a,null,a.createElement($n,{data:o})))))),a.createElement(x.a,null,a.createElement(x.E,{space:"three",columns:2},null==c?void 0:c.map((function(e,n){return a.createElement(Kn,{key:"secondary-section-".concat(n),data:e})})))));return a.createElement(l.l_,null,a.createElement(l.Vk,null,d),a.createElement(l.N2,null,s))};Xn.fragment=Qn,Xn.displayName="SelectedBundleProductContent";var qn=(0,o.Ps)(Ne(),jn.fragment,Xn.fragment),Zn=function(e){var n=e.data,t=n.productContents,i=n.actions,o=n.featuredHeader,d=a.createElement(C.i,{border:!0},o&&a.createElement(C.o,{title:{tag:"h3",text:o}}),a.createElement(C.m,null,a.createElement(r.i,null,a.createElement(r.j,{grow:1},a.createElement("div",null,t.map((function(e,n){return a.createElement(a.Fragment,{key:"flight-preview-content-".concat(n)},n>0&&a.createElement(c.c,{blockMargin:"two"}),a.createElement(Xn,{data:e}))})))),i&&i.length>0&&a.createElement(r.j,{grow:1},a.createElement(r.i,{justifyContent:"end",alignItems:"center"},i.map((function(e,n){return a.createElement(r.j,{key:"shoppingbutton-key-".concat(n)},a.createElement(jn,{data:e}))}))))))),s=a.createElement(C.i,{border:!0},o&&a.createElement(C.o,{title:{tag:"h3",text:o}}),a.createElement(C.m,null,t.map((function(e,n){return a.createElement(a.Fragment,{key:"flight-preview-content-".concat(n)},n>0&&a.createElement(c.c,{blockMargin:"two"}),a.createElement(Xn,{data:e}))})),a.createElement(c.b,{margin:{blockstart:"four"}},a.createElement(x.E,{columns:2},null==i?void 0:i.map((function(e,n){return a.createElement(x.a,{key:"shoppingbutton-key-".concat(n)},a.createElement("div",null,a.createElement(jn,{data:e})))}))))));return a.createElement(l.l_,null,a.createElement(l.Vk,null,s),a.createElement(l.N2,null,d))};Zn.fragment=qn,Zn.displayName="SelectedBundleProductCard";var Yn=(0,o.Ps)(Te(),i.hOm.fragment),et=function(e){var n=e.data;return a.createElement(i.hOm,{data:n})};et.fragment=Yn,et.displayName="DisclaimerCard";var nt=(0,o.Ps)(De(),Zn.fragment,F.Nd,et.fragment),tt=function(e){var n,t=null!==(n=e.data.packageProductCard)&&void 0!==n?n:{},r=t.disclaimer,i=t.shoppingJoinListContainer,l=t.params,o=t.cards,d=Gn(l);return a.createElement(F.p6,{id:"package-product",shoppingJoinListContainer:i,shoppingInvokeFunctionCallBack:d},a.createElement(c.b,{margin:{blockstart:"six",blockend:"three"}},a.createElement(x.E,{columns:1,space:"three"},a.createElement(x.a,null,a.createElement(x.E,{columns:1,space:"three"},null==r?void 0:r.map((function(e,n){return a.createElement(x.a,{key:"disclaimer-".concat(n)},a.createElement(et,{data:e}))})),null==o?void 0:o.map((function(e,n){return a.createElement(x.a,{key:"product-card-".concat(n)},a.createElement(Zn,{data:e}))})))))))};tt.fragment=nt,tt.displayName="PackageProductCard";var at=function(){var e=oe((function(e){var n,t,a,r;return fe(this,(function(i){return e?(n=rt(e,"identifier"),t=rt(e,"times-to-show"),n?(a=localStorage.getItem(n),r=Number(t),a&&r&&Number(a)<=r?localStorage.setItem(n,"".concat(Number(a)+1)):r?localStorage.setItem(n,"1"):localStorage.setItem(n,"true"),[2]):[2]):[2]}))}));return function(n){return e.apply(this,arguments)}}(),rt=function(e,n){var t;return e?null===(t=e.filter((function(e){return e.key===n}))[0])||void 0===t?void 0:t.value:null},it=function(e){return function(n,t,a){var r=null==e?void 0:e.find((function(e){return e.paramsId===a}));!function(e,n){"updateLocalStorage"===e&&at(n)}(t,null==r?void 0:r.keyValueParams)}},lt=(0,o.Ps)(Ae(),F.Ac.fragment),ot=function(e){var n=e.data;if(!(null==n?void 0:n.image))return null;var t=n.button,i=n.disclaimer,l=n.image,o=l.url,s=l.description,u=n.title;return a.createElement(N.f,null,u&&a.createElement(c.b,{padding:{blockend:"three"}},a.createElement(d.E,{tag:"h1",size:4},u)),a.createElement(c.b,{margin:{blockend:"three"}},a.createElement(_.a,{imageFit:"contain",ratio:_.E.R3_2},a.createElement(_.b,{alt:s,src:o}))),i&&a.createElement(d.a,{size:2},i),t&&a.createElement(c.b,{margin:{blockstart:"six"}},a.createElement(r.i,{justifyContent:"center"},a.createElement(r.j,null,a.createElement(F.Ac,{data:t,size:k.E.LARGE,isFullWidth:!0})))))};ot.fragment=lt,ot.displayName="PriceDisplayChangeOnboardingContent";var ct=function(e){var n=e.actionId,t=e.summaryContents,r=e.openAnalytics,i=(0,F.o4)(n);if(!i)return null;var l=i.contentId,o=null==t?void 0:t.find((function(e){return e.contentId===l}));return o&&"PriceDisplayChangeOnboardingContent"===o.content.__typename?a.createElement(F.QV,{actionId:n,renderNavigateBar:!1,useToolbar:!1,hasModal:!0,tall:!0,openOnLoad:!0,openAnalytics:r},a.createElement(ot,{data:o.content})):null};ct.displayName="PriceDisplayChangeOnboardingOverlayBuilder";var dt=(0,o.Ps)(Re(),F.Nd,ot.fragment),st=function(e){var n,t,r,i=e.data,l=null!==(r=null==i?void 0:i.summary)&&void 0!==r?r:{},o=l.contents,c=l.priceDisplayChangeOnboardingAction,d=l.shoppingJoinListContainer,s=l.shoppingInvokeFunctionParams,u=null==d||null===(n=d.actions)||void 0===n?void 0:n.find((function(e){return"ShoppingInvokeFunction"===e.__typename&&"updateLocalStorage"===e.name})),m=null==d||null===(t=d.actions)||void 0===t?void 0:t.find((function(e){return"ShoppingNavigateToOverlay"===e.__typename})),g=it(s),p=(0,a.useMemo)((function(){if(s&&u){var e,n=null===(e=s.find((function(e){return e.paramsId===u.paramsId})))||void 0===e?void 0:e.keyValueParams;if(n){var t=rt(n,"identifier"),a=rt(n,"times-to-show");if(t){var r=localStorage.getItem(t);if(r)return a?Number(r)<Number(a):"false"===r}}}return!0}),[s]);return(null==c?void 0:c.actionId)&&p?a.createElement(F.p6,{id:"price-display-change-onboarding",shoppingJoinListContainer:d,shoppingInvokeFunctionCallBack:g},a.createElement(ct,{actionId:c.actionId,summaryContents:o,openAnalytics:null==m?void 0:m.analytics})):null};st.displayName="PriceDisplayChangeOnboarding",st.fragment=dt;var ut="destination_list",mt="category_list",gt=function(e){switch(e.__typename){case"ProductListContentEventAttributes":return{product_id:e.productId,product_line:e.productLine};case"DestinationListContentEventAttributes":return{destination_geo_id:e.destinationGeoId};case"CategoryListContentEventAttributes":return{category_id:e.categoryId,product_line:e.productLine};default:return{}}},pt=new Map([["destination_list.selected","2.3.0"],["destination_list.presented","2.3.0"],["destination.selected","2.3.0"],["destination.presented","2.3.0"],["product_list.presented","1.1.0"],["category_list.presented","2.0.0"],["category.presented","1.2.0"],["category.selected","1.2.0"],["category.deselected","1.2.0"]]),vt=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=me(function(e){var n;switch(null===(n=e[0])||void 0===n?void 0:n.__typename){case"ProductListContentEventAttributes":return["product_list","search_product_position"];case"CategoryListContentEventAttributes":return[mt,"category_position"];default:return[ut,"destination_position"]}}(e),2),r=a[0],i=a[1],l=void 0!==n&&e[n],o=function(e){return ce({},i,t?"".concat(e+1):e+1)};if(l){var c=o(n);return ce({},r,[de({},gt(l),c)])}return ce({},r,e.map((function(e,n){var t=o(n);return de({},gt(e),t)})))},ft=function(e,n,t,a){var r,i,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=void 0===a,c=null!=t?t:function(e,n,t){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e.presented,i=e.selected,l=e.deselected,o="Impression"===n?r:a?l:i;if(!o)return null;var c=o.eventName,d=o.eventCategory,s=t?c:c.replace("_list",""),u=pt.get(s);return u?{event_version:u,event_type:n,event_category:d,event_name:s}:null}(e,n,o,arguments.length>5&&void 0!==arguments[5]&&arguments[5]);if(!c)return null;var d=e.experienceTemplateId,s=e.searchId,u=e.contentListAttributes,m=e.additionalContext,g=m.componentName,p=m.componentId,v=m.componentPosition,f=m.contentId,y=e.eventContext,h=c.event_category,E=h===ut,C=h===mt,S=y.map((function(e){return{algorithm_id:e.id,algorithm_name:e.type}})),b=l.map((function(e,n){var t=e.imageId;return de({image_url:e.imageUrl,gallery_position:n+1},t&&{image_id:t})})),k=C&&void 0!==a&&(null==l?void 0:l[a])?[{image_url:null===(r=l[a])||void 0===r?void 0:r.imageUrl,image_id:null===(i=l[a])||void 0===i?void 0:i.imageId}]:null,P={gallery_name:C?"CATEGORY_CARD":"DESTINATION_CARD",gallery_type:"GALLERY_TYPE_SINGLE",gallery_max_position:l.length};return de({event:c,additional_context:de({user_interface:de({component_name:g,component_id:p,component_position:v},!C&&{content_id:f}),algorithm_list:S},!o&&{image_list:null!=k?k:b,image_gallery:P})},E&&{module:{module_product_line:"Lodging"}},d&&{experience:{template_id:d}},s&&{search_request:{search_id:s}},vt(u,a,C))},yt=function(e){return("string"==typeof e.imageId||null===e.imageId)&&"string"==typeof e.imageUrl},ht=function(e){var n,t;return null!==(t=null==e||null===(n=e.mediaSection.gallery)||void 0===n?void 0:n.media.map((function(e){return{imageId:e.id,imageUrl:"Image"===e.media.__typename?e.media.url:null}})).filter(yt))&&void 0!==t?t:[]},Et=function(e){var n,t;return null!==(t=null==e||null===(n=e.items)||void 0===n?void 0:n.map((function(e){var n,t;return{imageId:e.id,imageUrl:"Image"===(null===(n=e.image)||void 0===n?void 0:n.__typename)?null===(t=e.image)||void 0===t?void 0:t.url:""}})).filter(yt))&&void 0!==t?t:[]},Ct=function(e,n,t){return ft(e,"Impression",null,n,t)},St=function(e,n,t,a){return ft(e,"Interaction",null,n,t,a)},bt=function(e){var n=e.children,t=e.eventData,r=ue(e,["children","eventData"]);return t?a.createElement(b.Ff,de({eventData:t},r),n):a.createElement(a.Fragment,null,n)},kt=(0,o.Ps)(we()),Pt=function(e){var n=e.children,t=e.data.clickstreamAnalytics,r=t&&function(e){return ft(e,"Impression")}(t);return a.createElement(bt,{eventData:r},n)};Pt.displayName="ListingContainerIntersectionTracker",Pt.fragment=kt;var Lt=(0,o.Ps)(Be(),i.ZNP.fragment),It=function(e){var n=e.data,t=e.children,r=e.carouselOptions;return"ShoppingCarouselFormat"===(null==n?void 0:n.__typename)?a.createElement(i.ZNP,de({data:n},r),t):a.createElement(a.Fragment,null,a.Children.map(t,(function(e,n){return a.createElement(c.b,{key:n,margin:{blockstart:"three"}},a.createElement("div",null,e))})))};It.fragment=Lt,It.displayName="Container";var _t=(0,o.Ps)(Me()),xt=function(e){var n,t,r=e.data,i=r.title,o=r.content,s=r.primaryUIButton,u=r.trigger,m=(0,b.Gv)(),g=(0,a.useRef)(null),p=me((0,R.useDialog)("shopping-listing-header-disclaimer-dialog"),3),v=p[0],f=p[1],y=p[2];if(!(null===(n=u.icon)||void 0===n?void 0:n.id)||!(null==s?void 0:s.primary))return null;var h,E=null!==(t=u.clientSideAnalytics)&&void 0!==t?t:{},C=E.linkName,k=E.referrerId,P=function(){f.closeDialog()};return a.createElement(a.Fragment,null,a.createElement(c.b,{margin:{inlinestart:"one"}},a.createElement(A.E,{onClick:function(){f.openDialog(),C&&k&&m(k,C)}},a.createElement("button",{type:"button"},a.createElement(S.a,{name:u.icon.id,id:u.icon.id,title:null!==(h=u.icon.title)&&void 0!==h?h:void 0})))),a.createElement(N.h,{isVisible:v},a.createElement(y,null,a.createElement(l.l_,null,a.createElement(l.Vk,null,a.createElement(N.e,{type:"bottom",isVisible:v,triggerRef:g,hasModal:!0},a.createElement(N.f,null,a.createElement(d.E,null,i),o.map((function(e,n){return a.createElement(d.a,{key:n},e)})),a.createElement(c.b,{margin:{blockstart:"six"}},a.createElement(D.E,{isFullWidth:!0,onClick:P},s.primary))))),a.createElement(l.N2,null,a.createElement(N.e,{type:"centered",centeredSheetSize:"small",isVisible:v,triggerRef:g},a.createElement(N.f,null,a.createElement(d.E,null,i),o.map((function(e,n){return a.createElement(d.a,{key:n},e)})),a.createElement(c.b,{margin:{blockstart:"six"}},a.createElement(D.E,{onClick:P},s.primary)))))))))};xt.displayName="ContainerHeadingDisclaimer",xt.fragment=_t;var Ft=(0,o.Ps)(He(),F.Ac.fragment),Ot=function(e){var n,t=e.data,r=e.clickstreamData,i=(0,l.uQ)((ce(n={},l.Cu.SMALL,{hideText:!!t.icon}),ce(n,l.Cu.MEDIUM,{hideText:!1}),n));return t&&"ShoppingButton"===t.__typename?a.createElement(F.Ac,se(de({data:t,size:k.E.SMALL},i),{clickstreamEventBuilder:function(e){return r&&e?function(e,n){var t={event_version:n.eventVersion,event_type:"Interaction",event_category:n.eventCategory,event_name:n.eventName};return ft(e,"Interaction",t)}(r,e):null}})):null};Ot.displayName="ShoppingListingContainerTrigger",Ot.fragment=Ft;var Nt=(0,a.createContext)(void 0),Tt=function(e){var n=e.children,t=e.triggers,r=e.clickstreamData,i=(0,a.useMemo)((function(){return{triggers:t,clickstreamData:r}}),[t,r]);return a.createElement(Nt.Provider,{value:i},n)},Dt=(0,o.Ps)(Ge(),i.J6W.fragment,xt.fragment),At=function(e){var n=e.data,t=e.size,l=(0,T.$)(1).headingLevel,o=function(e){var n,t=null!==(n=a.useContext(Nt))&&void 0!==n?n:{},r=t.triggers,i=t.clickstreamData,l=null==r?void 0:r.filter((function(n){return n.location===e}));return(null==l?void 0:l.length)?a.createElement("div",null,l.map((function(e,n){return a.createElement(Ot,{data:e.trigger,key:n,clickstreamData:i})}))):null}("HEADING_RIGHT");switch(null==n?void 0:n.__typename){case"EGDSHeading":return a.createElement(i.J6W,{data:n,size:null!=t?t:4,tag:null!=l?l:"h3",overflow:"truncate-2-lines"});case"ShoppingListingHeader":return a.createElement(r.i,{alignItems:"center",justifyContent:"space-between"},a.createElement("div",null,a.createElement(r.i,{alignItems:"center"},a.createElement(d.E,{size:null!=t?t:5,tag:null!=l?l:"h3",overflow:"truncate-2-lines"},n.title),n.disclaimer&&a.createElement(xt,{data:n.disclaimer})),n.subTitle&&a.createElement(d.b,null,n.subTitle)),o&&a.createElement(c.b,{margin:{small:{inlineend:"three"},medium:{inlineend:"six"}}},o));default:return null}};At.fragment=Dt,At.displayName="Container";var Rt=(0,o.Ps)(ze(),At.fragment,i.CSK.fragment,i.qSl.fragment,It.fragment,Pt.fragment,F.Nd,Ot.fragment),wt=function(e){return"LodgingCard"===(null==e?void 0:e.__typename)},Bt=function(e){var n,t,r,l,o,d,s=e.data,u=e.lodgingCardOptions,g=void 0===u?{}:u,p=e.shoppingSelectableImageCardOptions,f=void 0===p?{}:p,y=e.carouselOptions,h=void 0===y?{}:y,E=e.isNested,C=s.containerHeading,S=s.items,k=s.format,P=s.shoppingJoinListContainer,L=s.actionItems,I=(0,b.m_)(),x=g.onClickCallback,O=g.lazyLoadImg,N=g.fetchPriority,D=ue(g,["onClickCallback","lazyLoadImg","fetchPriority"]),A=f.onImageCardClick,R=f.lazyLoad,w=null===(t=s.clickstreamAnalytics)||void 0===t||null===(n=t.presented)||void 0===n?void 0:n.eventCategory,B=me(a.useState(-1),2),M=B[0],H=B[1],G=a.useRef(null),z=(0,T.$)(1).headingLevel,j=(0,T.$)(2).headingLevel,V=C?null!=j?j:4:null!=z?z:3,U=(0,m.useExperiment)("Thematic_search_by_categories_Post_mvp_BEXGH").exposure,W=1===(null==U?void 0:U.bucket),$=(0,v.v)().context,J="MOBILE_PHONE"===(null==$||null===(r=$.device)||void 0===r?void 0:r.type),K=(0,a.useMemo)((function(){var e;return null!==(e=function(e,n,t,a){if("ShoppingCarouselFormat"===n){var r=function(e,n,t){return t&&{destination_list:{lodgingCardOptions:{headingSize:{heading:7},headingOverflow:"truncate"},carouselOptions:{itemsVisible:{lg:3,md:3,sm:1},peekAmount:{sm:142,md:64,lg:64}},headingOptions:n?{size:6}:void 0},product_list:{lodgingCardOptions:{headingSize:{heading:6,subHeading:200},headingOverflow:"truncate-2-lines"},headingOptions:n?{size:6}:void 0},category_list:{carouselOptions:{itemsVisible:{xl:6,lg:6,md:6,sm:3},peekAmount:{sm:24,md:24,lg:24},itemsGap:{sm:8,md:8,lg:8}},headingOptions:n?{size:6}:{tag:e?"h5":"h4",size:e?5:4}}}[t]||{lodgingCardOptions:{headingSize:{heading:6,subHeading:200},headingOverflow:"truncate-2-lines"},headingOptions:n?{size:6}:void 0}}(e,a,t);return{lodgingCardOptions:de({view:i.HoO.COMPACT,imageRatio:_.E.R16_9,isOneColumnLayout:!0},null==r?void 0:r.lodgingCardOptions),carouselOptions:de({},null==r?void 0:r.carouselOptions),headingOptions:de({},null==r?void 0:r.headingOptions)}}return{lodgingCardOptions:{view:i.HoO.RESPONSIVE}}}(J,null==k?void 0:k.__typename,w,E))&&void 0!==e?e:{lodgingCardProps:g,carouselProps:h,cardWrapperOptions:{},headingOptions:{}}}),[k,w,g,h,J,E]);(0,a.useEffect)((function(){(null==G?void 0:G.current)&&-1!==M&&setTimeout((function(){var e;null===(e=G.current)||void 0===e||e.changeIndex(M)}),0)}),[M]),(0,a.useEffect)((function(){(null==S?void 0:S.length)>0&&H(function(e){var n=null==e?void 0:e.find((function(e){return"ShoppingSelectableImageCard"===(null==e?void 0:e.__typename)&&"SELECTED"===e.state}));return n?e.indexOf(n):-1}(S))}),[S]);var Q=me(a.useMemo((function(){return[w===ut||w===mt,{lodgingCardOptions:de({},K.lodgingCardOptions,D),carouselOptions:de({},null==K?void 0:K.carouselOptions,h)}]}),[h,null===(o=s.clickstreamAnalytics)||void 0===o||null===(l=o.presented)||void 0===l?void 0:l.eventCategory,null==k?void 0:k.__typename,K]),2),X=Q[0],q=Q[1],Z=q.carouselOptions,Y=q.lodgingCardOptions,ee=function(e,n){var t=e.id===i.MU8,a=M===n;if(!(W&&t&&a)&&X&&s.clickstreamAnalytics){var r=St(s.clickstreamAnalytics,n,Et(s),a);r&&I(r),H((function(e){return e===n?-1:n}))}null==A||A(e)};if(!s||!S||!S.length)return null;var ne=function(e){return function(){var n,t,a=s.items[e],r=wt(a)&&"product_list"===(null==(n=s.clickstreamAnalytics)||null===(t=n.presented)||void 0===t?void 0:t.eventCategory);if(null==x||x(r?a:void 0),X&&s.clickstreamAnalytics&&wt(a)){var i=St(s.clickstreamAnalytics,e,ht(a));i&&I(i)}}},te=null===(d=K.carouselOptions)||void 0===d?void 0:d.itemsVisible,ae="ShoppingListingHeader"===(null==C?void 0:C.__typename)?C.title:null==C?void 0:C.text;return a.createElement(Pt,{data:s},a.createElement(F.p6,{id:"shopping-listing-container",shoppingJoinListContainer:P},a.createElement(Tt,{triggers:L,clickstreamData:s.clickstreamAnalytics},C&&a.createElement(c.b,{margin:{blockend:"three"}},a.createElement("div",{"data-test-id":"shopping-listing-container-heading"},a.createElement(At,de({data:C},K.headingOptions)))),a.createElement(It,{data:k,carouselOptions:w===mt?se(de({},K.carouselOptions),{carouselRef:G,carouselHeaderText:ae}):Z},S.map((function(e,n){switch(e.__typename){case"LodgingCard":var t,r,l=null!==(r=null!==(t=null==te?void 0:te.md)&&void 0!==t?t:null==k?void 0:k.itemsVisible)&&void 0!==r?r:3,o=O||n>l,c=N||(o?"low":"high");return a.createElement(bt,{eventData:X&&s.clickstreamAnalytics?Ct(s.clickstreamAnalytics,n,ht(e)):null,trackOnce:!0},a.createElement(T.A,{topHeadingLevel:V},a.createElement(i.CSK,se(de({key:"shopping-listing-container-card-".concat(n),index:{rankingIndex:n,horizontalIndex:n},data:e},Y),{onClickCallback:ne(n),lazyLoadImg:o,fetchPriority:c}))));case"ShoppingSelectableImageCard":var d,u,m=null!==(u=null!==(d=null==te?void 0:te[J?"sm":"md"])&&void 0!==d?d:null==k?void 0:k.itemsVisible)&&void 0!==u?u:3;return a.createElement(bt,{eventData:X&&s.clickstreamAnalytics?Ct(s.clickstreamAnalytics,n,Et(s)):null,key:"shopping-listing-container-clickstream-tracker-shopping-selectable-image-card-".concat(n),trackOnce:!0},a.createElement(i.qSl,{index:n,data:e,onImageCardClick:ee,lazyLoad:R&&n>m,selected:M===n,key:"selectable-image-card-".concat(e.id,"-").concat(n)}));default:return null}}))))))};Bt.displayName="sharedui-ListingContainer",Bt.fragment=Rt;var Mt=(0,o.Ps)(je(),i.NMC,i.oD6,i.TMM.fragment,i.oD6,i.TNw,i.xO5.fragment,i.U08.fragment,H.B5.fragment,i.CSK.fragment,i.RRC.fragment),Ht=function(e){var n=e.data,t=e.variables,r=ue(e,["data","variables"]),i=(null==t?void 0:t.includeDynamicMap)?{__typename:"PropertySearchResults",dynamicMap:null==n?void 0:n.dynamicMap,propertySearchListings:null==n?void 0:n.propertySearchListings}:void 0;return a.createElement(M.VZ,de({propertySearchResult:i,inputs:t,height:"100%"},r))};Ht.displayName="DynamicMapWrapper",Ht.fragment=Mt;var Gt=(0,o.Ps)(Ve(),i.ntZ.fragment),zt=function(e){var n,t,r,l,o=e.children,c=e.className,d=e.dialogId,s=e.dialogQueryKey,u=e.dialogView,m=e.externalData,g=e.data,p=e.previousData,v=e.shouldUsePreviousData,f=null!==(l=null!==(r=null==g?void 0:g.mapTrigger)&&void 0!==r?r:null==m?void 0:m.mapTrigger)&&void 0!==l?l:null==p||null===(n=p.propertySearch)||void 0===n?void 0:n.mapTrigger,y=v?null==p||null===(t=p.propertySearch)||void 0===t?void 0:t.mapTrigger:f;return y?a.createElement(i.ntZ,{data:y,className:c,dialogId:d,dialogQueryKey:s,dialogView:u,closeMapDialogPropBuilder:i.R6e},o):null};zt.displayName="MapTriggerWrapper",zt.fragment=Gt;var jt=function(e){var n,t,i,l,o=e.isLoading,s=e.onNextPage,u=e.onPrevPage,m=e.paginationLabel,g=e.pagingNextButton,p=e.pagingPrevButton,v=(0,b.Gv)();return a.createElement(r.i,{"data-stid":"pagination-navigation",direction:"column",justifyContent:"center",alignItems:"center"},a.createElement(c.b,{margin:{blockend:"four"}},a.createElement(r.i,{space:"six",alignItems:"center",justifyContent:"center"},a.createElement(c.b,{margin:{inlineend:"four"}},a.createElement(D.E,{"aria-label":null!==(n=null==p?void 0:p.accessibility)&&void 0!==n?n:"","data-stid":"previous-button",disabled:!p||o||null!==(t=null==p?void 0:p.disabled)&&void 0!==t&&t,onClick:function(){var e,n,t,a;u(),v(null!==(t=null==p||null===(e=p.analytics)||void 0===e?void 0:e.referrerId)&&void 0!==t?t:"",null!==(a=null==p||null===(n=p.analytics)||void 0===n?void 0:n.linkName)&&void 0!==a?a:"")},size:k.E.MEDIUM,type:"button"},a.createElement(S.a,{name:"chevron_left"}))),o?a.createElement(r.j,{minWidth:12,shrink:0},a.createElement(W.b,{type:"secondary"})):m&&a.createElement(d.c,{size:300,weight:"regular"},m),a.createElement(c.b,{margin:{inlinestart:"four"}},a.createElement(D.E,{"aria-label":null!==(i=null==g?void 0:g.accessibility)&&void 0!==i?i:"","data-stid":"next-button",disabled:!g||o||null!==(l=null==g?void 0:g.disabled)&&void 0!==l&&l,onClick:function(){var e,n,t,a;s(),v(null!==(t=null==g||null===(e=g.analytics)||void 0===e?void 0:e.referrerId)&&void 0!==t?t:"",null!==(a=null==g||null===(n=g.analytics)||void 0===n?void 0:n.linkName)&&void 0!==a?a:"")},size:k.E.MEDIUM,type:"button"},a.createElement(S.a,{name:"chevron_right"}))))))};jt.displayName="sharedui-PaginationNavigation";var Vt=function(e){var n,t,r=e.handlePagination,i=e.isLoading,l=e.pagination,o=e.onPaginationNext,c=e.onPaginationPrev,d=e.showPagination,s=function(e){document&&CustomEvent&&"function"==typeof document.dispatchEvent&&document.dispatchEvent(new CustomEvent("mesoTriggeredRefresh",{detail:{type:"impressionRefresh"}})),r(e)};return"LodgingPaginationNavigationButtons"!==(null==l||null===(n=l.trigger)||void 0===n?void 0:n.__typename)?null:a.createElement(jt,{isLoading:i,onNextPage:function(){var e,n,t;return t=null===(n=l.subSets)||void 0===n||null===(e=n.nextSubSet)||void 0===e?void 0:e.startingIndex,void(d?null==o||o():s(t))},onPrevPage:function(){var e,n,t;return t=null===(n=l.subSets)||void 0===n||null===(e=n.previousSubset)||void 0===e?void 0:e.startingIndex,void(d?null==c||c():s(t))},paginationLabel:null!==(t=l.paginationLabel)&&void 0!==t?t:"",pagingNextButton:l.trigger.nextButton,pagingPrevButton:l.trigger.previousButton})};Vt.displayName="sharedui-PropertyListingPagination";var Ut=(0,o.Ps)(Ue(),Bt.fragment),Wt=function(e){var n,t=e.data,r=e.lodgingCardOptions,l=null!==(n=null==t?void 0:t.shoppingSearchListingFooter)&&void 0!==n?n:[],o=function(e){(null==r?void 0:r.onClickCallback)&&r.onClickCallback(e)};return 0===(null==l?void 0:l.length)?null:a.createElement("div",{"data-stid":"shopping-search-listing-footer"},l.map((function(e,n){var t=0===n;return"ShoppingListingContainer"===e.__typename?a.createElement(c.b,{margin:{blockstart:t?"six":"three"}},a.createElement("div",null,a.createElement($.Z,{offset:100,key:n},a.createElement(i.gEe,{theme:"secondary",spacingOptions:{padding:{small:{inline:"three",block:"three"},medium:{inline:"six",block:"six"}}}},a.createElement(Bt,{data:e,lodgingCardOptions:se(de({},r),{onClickCallback:o})}))))):null})))};Wt.displayName="ShoppingSearchListingFooter",Wt.fragment=Ut;var $t=(0,o.Ps)(We()),Jt=function(e){var n=e.data,t=e.hideListingToast,r=e.autoHideTimer;return a.createElement("div",{"data-stid":"property-listing-toast"},a.createElement(J.E,{show:!0,onDismiss:t,autoHideTimer:r||4e3},null==n?void 0:n.text))};Jt.fragment=$t,Jt.displayName="PropertyListingsToast";var Kt=function(e){var n=e.data,t=e.lodgingCardOptions;switch(n.__typename){case"ShoppingListingContainer":return a.createElement(Bt,{data:n,lodgingCardOptions:t,isNested:!0});case"ShoppingRangeIndicatorCard":return a.createElement(i.XPy,{data:n});default:return null}},Qt=function(e){var n=e.data,t=e.lodgingCardOptions,r=e.hasContainerHeading,i=(0,T.$)(1).headingLevel,l=(0,T.$)(2).headingLevel,o=r?null!=l?l:4:null!=i?i:3;return a.createElement(T.A,{topHeadingLevel:o},a.createElement(Kt,{data:n,lodgingCardOptions:t}))},Xt=(0,o.Ps)($e(),i.SXg.fragment),qt=function(e){var n=e.data,t=e.items,l=e.lodgingCardOptions,o=n.graphic,c=n.expando,s=c.expanded,u=c.collapseAnalytics,m=c.expandAnalytics,g=c.expandedLabel,p=c.collapsedLabel,v=c.subtitle,f=me(a.useState(s),2),y=f[0],h=f[1],E=(0,b.Gv)(),S=(0,T.$)(1).headingLevel,k=y?g:p,P=a.useMemo((function(){return u&&m&&{id:y?m.referrerId:u.referrerId,description:y?m.linkName:u.linkName,callback:function(e,n){return E(e,n)}}||void 0}),[c,y,E]);if(!(null==t?void 0:t.length))return null;var L=a.createElement(r.i,{space:"three",alignItems:"center"},o&&a.createElement(r.j,{maxWidth:"12x"},a.createElement(i.SXg,{data:o})),a.createElement(r.j,null,a.createElement(r.i,{direction:"column",space:"half"},a.createElement(d.E,{tag:null!=S?S:"h3"},k),v&&a.createElement(d.b,null,v)))),_=a.createElement(r.i,{space:"six",direction:"column"},t.map((function(e,n){return a.createElement(Qt,{key:n,data:e,lodgingCardOptions:l,hasContainerHeading:!0})})));return a.createElement(C.i,{backgroundTheme:"secondary"},a.createElement(C.m,null,a.createElement(I.d,null,a.createElement(I.e,{isVisible:y,isIndented:!1,expandoTitle:L,expandoDescription:_,onToggle:function(){h(!y)},triggerPosition:"trailing",analytics:P}))))};qt.displayName="NestedListingExpandoContainer",qt.fragment=Xt;var Zt=(0,o.Ps)(Je()),Yt="#selectedTab-",ea=function(e){var n,t,r=e.data,i=e.items,l=e.lodgingCardOptions,o=e.hasContainerHeading,c=void 0!==o&&o,d=r.tabs,s="MOBILE_PHONE"===(null===(t=(0,v.v)().context)||void 0===t||null===(n=t.device)||void 0===n?void 0:n.type),u=(0,P.TH)(),m=(0,P.s0)(),g=me((0,a.useState)((function(){return function(e,n){var t=e.replace(Yt,""),a=n.findIndex((function(e){return e.tabId===t}));return a>0?a:0}(u.hash,d)})),2),p=g[0],f=g[1],y=(0,b.m_)(),h=(0,a.useRef)(new Set([p])),E=(0,a.useCallback)((function(e){var n;h.current.add(e),f(e);var t=null===(n=d[e])||void 0===n?void 0:n.tabId;t&&m(se(de({},u),{hash:"".concat(Yt).concat(t)}),{replace:!0});var a=i[e];if("ShoppingListingContainer"===(null==a?void 0:a.__typename)){var r=null==a?void 0:a.clickstreamAnalytics;if(r){var l=ft(r,"Interaction");l&&y(l)}}}),[i,u,m,d,y]);return a.createElement(K.f,{backgroundColor:K.d.SECONDARY,tabsType:K.c.NATURAL,selectedTab:p,onTabSelect:E,withBorder:!s},d.map((function(e,n){var t=i[n];return t?a.createElement(K.E,{key:e.tabId,name:e.label,targetURI:"".concat(Yt).concat(e.tabId)},h.current.has(n)?a.createElement(Qt,{key:e.tabId,data:t,lodgingCardOptions:l,hasContainerHeading:c}):null):null})).filter((function(e){return e})))};ea.displayName="TabsLayout",ea.fragment=Zt;var na=(0,o.Ps)(Ke(),ea.fragment,qt.fragment),ta=function(e){var n=e.data,t=e.items,r=e.lodgingCardOptions,i=e.hasContainerHeading;switch(n.__typename){case"EGDSBasicTabs":return a.createElement(ea,{data:n,items:t,lodgingCardOptions:r,hasContainerHeading:i});case"ShoppingListingExpandoCardContainer":return a.createElement(qt,{data:n,items:t,lodgingCardOptions:r});default:return null}};ta.displayName="NestedListingContainerLayout",ta.fragment=na;var aa=(0,o.Ps)(Qe(),ta.fragment,Bt.fragment,At.fragment,i.XPy.fragment),ra=function(e){var n=e.data,t=e.lodgingCardOptions,r=void 0===t?{}:t,l=n.nestedContainerHeading,o=n.items,c=n.layout,d=n.impressionAnalytics;return o.length?a.createElement(i.tvo,{referrerId:null==d?void 0:d.referrerId,linkName:null==d?void 0:d.linkName},l&&a.createElement(At,{data:l}),a.createElement(ta,{data:c,items:o,lodgingCardOptions:r,hasContainerHeading:!!l})):null};ra.displayName="NestedListingContainer",ra.fragment=aa;var ia=(0,o.Ps)(Xe()),la=function(e){var n,t,r,i,l,o,c,d,s,u,g,p,v,f,y,h,E=e.inputs,C=e.onHoverChanged;return E?a.createElement(m.Experiment,{name:"Recently_viewed_property_carousel_Web"},a.createElement(m.ExperimentControl,null),a.createElement(m.ExperimentVariant,{bucket:1},a.createElement(Q.qt,{inputs:{regionId:null===(n=E.criteria)||void 0===n?void 0:n.primary.destination.regionId,containerType:Q.lj.CAROUSEL,typeFilter:[Q.yC.VIEWED_OFFERS],contentSize:(null===(t=E.criteria)||void 0===t?void 0:t.primary.dateRange)?Q._3.UBER_ABBREVIATED_PRICE:Q._3.UBER_ABBREVIATED,discoveryRecentActivityContext:{outputLineOfBusiness:Q.Ko.LODGING,marketingChannelTypeCode:(f=null===(i=E.criteria)||void 0===i||null===(r=i.secondary)||void 0===r?void 0:r.selections,y=function(e,n){var t=null==n?void 0:n.find((function(n){return n.id===e}));return t?t.value:null}("mctc",f),h=Number(y),Number.isNaN(h)?0:h),pageId:"HOT.SR",lodging:{checkin:null==E||null===(c=E.criteria)||void 0===c||null===(o=c.primary)||void 0===o||null===(l=o.dateRange)||void 0===l?void 0:l.checkInDate,checkout:null==E||null===(u=E.criteria)||void 0===u||null===(s=u.primary)||void 0===s||null===(d=s.dateRange)||void 0===d?void 0:d.checkOutDate,rooms:null==E||null===(p=E.criteria)||void 0===p||null===(g=p.primary.rooms)||void 0===g?void 0:g.map((function(e){var n;return{adults:e.adults,children:null===(n=e.children)||void 0===n?void 0:n.map((function(e){return e.age}))}})),searchCriteria:null===(v=E.criteria)||void 0===v?void 0:v.secondary}},configurationId:"ec4d4ea2-151b-4fae-98c2-cbde1e0dc8e5"},onHoverChanged:C}))):null};la.displayName="PropertyListingRecentlyViewedPropertiesCarouselWrapper",la.fragment=ia;var oa=(0,a.createContext)({}),ca=(0,a.createContext)({isGridView:!1}),da=function(){return(0,a.useContext)(ca)},sa=function(e){var n=e.children,t=e.isGridView,r=me((0,a.useState)(null!=t&&t),2),i=r[0],l=r[1],o=function(){l((function(e){return!e}))},c=(0,a.useMemo)((function(){return{isGridView:i,toggleGridView:o}}),[i]);return a.createElement(ca.Provider,{value:c},n)},ua=(0,o.Ps)(qe(),i.DiW.fragment);var ma,ga=function(e){var n=e.data,t=e.className,r=n.fallbackListing,l=n.crossSellProductType,o=n.multiItemSearchContext;if(!l)return null;var c,d=(c=o,JSON.parse(JSON.stringify(c,(function(e,n){return e.startsWith("__")||e.endsWith("__")?void 0:n})))),s="MessageResult"===(null==r?void 0:r.__typename)?function(){return a.createElement(i.DiW,{data:r})}:void 0;return a.createElement("div",{"data-stid":"lodging-static-multi-item-cross-sell",className:t},a.createElement(X.M,{inputs:{searchContext:d,crossSellProductType:l,userLocation:null},noResultsFallback:s}))};ga.fragment=ua,ga.displayName="LodgingStaticMultiItemCrossSell";var pa=(ce(ma={},"FLIGHT_CAR",q.yR.FLIGHT_CAR),ce(ma,"FLIGHT_HOTEL",q.yR.FLIGHT_HOTEL),ce(ma,"FLIGHT_HOTEL_CAR",q.yR.FLIGHT_HOTEL_CAR),ce(ma,"HOTEL_CAR",q.yR.HOTEL_CAR),ce(ma,"HOTEL_ACTIVITY",q.yR.HOTEL_ACTIVITY),ma);function va(){var e=(0,P.TH)();return(0,a.useMemo)((function(){return(0,Y.parse)(e.search)}),[e.search])}var fa=(0,o.Ps)(Ze()),ya=function(e){var n,t,i,l,o,d,s=e.data,u=e.packageType,m=e.criteria,g=(0,a.useContext)(oa),p=s.loadingComponent,v="true"===va().useRewards,f=function(e){var n=(0,P.s0)(),t=(0,P.TH)(),r=va(),i=null==e?void 0:e.analyticsSearch,l=null==e?void 0:e.updateSearch;return(0,a.useCallback)((function(e){"function"==typeof(null==i?void 0:i.withNewSearchId)&&l?i.withNewSearchId(l)({navigate:n,location:t,newParams:{useRewards:String(e)},replace:!0}):(r.useRewards=String(e),n("".concat(t.pathname,"?").concat((0,Y.stringify)(r)),{replace:!0}))}),[n,r])}(g),y=function(e){return Object.fromEntries(Object.entries(e).map((function(e){var n=me(e,2),t=n[0],a=n[1];return[t.toLowerCase(),a]})))}(va()),h=y.mdpdtl,E=y.gclid,C=y.mdpcid,S=de({},h&&{metaDistributionPartnersDetails:h},E&&{googleClickIdentifier:E},C&&{metaDistributionPartnersChannelIdentifier:C}),b=(o=null==m||null===(t=m.primary)||void 0===t||null===(n=t.dateRange)||void 0===n?void 0:n.checkInDate,d=null==m||null===(l=m.primary)||void 0===l||null===(i=l.dateRange)||void 0===i?void 0:i.checkOutDate,o&&d?{dateRange:{start:o,end:d}}:null);switch(p){case"InstallmentPlan":case"InstallmentPlanAffirm":return a.createElement(r.i,{justifyContent:"center","data-stid":"lodging-installment-plan"},a.createElement(Z.i,{inputs:{multiItemSessionId:null,amount:null},margin:{blockstart:"two"},placeholderMargin:{blockstart:"three"},minWidth:"4x"}));case"InstallmentPlanKlarna":return a.createElement(r.i,{justifyContent:"center","data-stid":"lodging-installment-plan"},a.createElement(Z.i,{inputs:{multiItemSessionId:null,amount:null},margin:{blockstart:"two"},placeholderMargin:{blockstart:"three",blockend:"half"},minWidth:"4x__half"}));case"LoyaltyBanner":return a.createElement("div",{"data-stid":"loyalty-banner-plan"},a.createElement(q.nF,{inputs:{useLoyaltyCurrency:v,pageLocation:q.Qd.SEARCH_RESULTS,packageType:u?pa[u]:null,packageLOB:null,lineOfBusiness:q.Ko.LODGING,searchContext:null},switchHandler:f,skipSsr:!0}));case"OneKeyMessageBanner":return a.createElement("div",{"data-stid":"one-key-message-banner-plan"},a.createElement(c.b,{margin:{blockstart:"three"}},a.createElement(q.nF,{inputs:{useLoyaltyCurrency:v,pageLocation:q.Qd.SEARCH_RESULTS,packageType:u?pa[u]:null,packageLOB:null,marketing:S,lineOfBusiness:q.Ko.LODGING,searchContext:b},switchHandler:f,spacing:{margin:{blockstart:"three"}},showBorder:!0,skipSsr:!0})));default:return null}};ya.fragment=fa,ya.displayName="PropertySearchListingPlaceholder";var ha,Ea=(0,o.Ps)(Ye(),i.CSK.fragment,i.RIL.fragment,i.e1h.fragment,ga.fragment,i.DiW.fragment,Cn.fragment,bn.fragment,Fn.fragment,Nn.fragment,Dn.fragment,i.glj.fragment,ya.fragment,i.hOm.fragment,_n.fragment,la.fragment,Bt.fragment,ra.fragment,i.lLc.fragment),Ca=function(e){var n=e.lodgingCardData,t=e.view,r=e.shouldLazyLoadImg,l=e.handleClickCallBack,o=e.onHoverChanged,c=e.appendAdditionalQueryParamCb,d=e.shouldAppendContentEntryId,s=e.index,u=e.isSRPListing,m=e.shouldChangeCardDisplayOnHover,g=e.fetchPriority,p=e.className,v=e.showCarouselDots;return a.createElement(i.CSK,{data:n,view:t,lazyLoadImg:r,onClickCallback:l,onHoverChanged:o,appendAdditionalQueryParamCb:c,index:s,fireCardImpression:!1,isSRPListingCard:u,fireImpressionByViewability:!0,enableInlineLink:!0,border:u,shouldChangeCardDisplayOnHover:m,fetchPriority:g,shouldAppendContentEntryId:d,className:p,showCarouselDots:v})},Sa={padding:{blockend:"two"},margin:{blockstart:"six"}},ba=(ce(ha={},l.Cu.SMALL,{isSquareCard:!0}),ce(ha,l.Cu.MEDIUM,{isSquareCard:!1}),ha),ka={padding:{small:{inline:"three",block:"six"},medium:{inline:"six",block:"six"}}},Pa=function(e){var n,t,r=e.data,o=e.index,d=e.criteria,s=e.isSRPListing,u=e.openDatePicker,m=e.onClickCallback,g=e.onHoverChanged,p=e.changeFlexibility,v=e.appendAdditionalQueryParamCb,f=e.shouldChangeCardDisplayOnHover,y=e.inputs,h=e.packageType,E=e.hideCompressionMessage,C=e.onBannerDismiss,S=e.fetchPriority,b=e.onFilterPillRemoval,k=e.onRemoveAllFilters,P=e.onImageCardClickCallback,L=e.className,I=e.showCarouselDots,_=e.listingSpacing,x=void 0===_?{blockstart:"three"}:_,F=r.__typename,O=(null!==(n=o.rankingIndex)&&void 0!==n?n:0)>=3,N=0===o.rankingIndex&&s,T=me((0,a.useState)(!E),2),D=T[0],A=T[1],R=da().isGridView,w=(0,l.uQ)(ba),B=function(e){"string"==typeof e?null==m||m({id:e}):e?null==m||m(e):null==m||m(r)},M={lazyLoadImg:O,onClickCallback:B,onHoverChanged:g,isSRPListingCard:s,shouldChangeCardDisplayOnHover:f,enableInlineLink:!0},H=0===o.verticalIndex?Sa:{margin:x},G="attachBanner",z="almostLongStayBanner",j=[G,"compressionBanner","cancellationBanner",z];switch(F){case"LodgingCard":return R?a.createElement(Ca,{view:i.HoO.GRID,lodgingCardData:r,shouldLazyLoadImg:O,handleClickCallBack:B,onHoverChanged:g,appendAdditionalQueryParamCb:v,index:o,isSRPListing:s,shouldChangeCardDisplayOnHover:f,fetchPriority:S,shouldAppendContentEntryId:N,className:L}):a.createElement(c.b,{key:o.verticalIndex,margin:x},a.createElement("div",null,a.createElement(l.l_,null,a.createElement(l.Vk,null,a.createElement(Ca,{view:i.HoO.COMPACT_HORIZONTAL,lodgingCardData:r,shouldLazyLoadImg:O,handleClickCallBack:B,onHoverChanged:g,appendAdditionalQueryParamCb:v,index:o,isSRPListing:s,shouldChangeCardDisplayOnHover:f,fetchPriority:S,shouldAppendContentEntryId:N})),a.createElement(l.N2,null,a.createElement(Ca,{lodgingCardData:r,shouldLazyLoadImg:O,handleClickCallBack:B,onHoverChanged:g,appendAdditionalQueryParamCb:v,index:o,isSRPListing:s,shouldChangeCardDisplayOnHover:f,fetchPriority:S,shouldAppendContentEntryId:N,showCarouselDots:I})))));case"ShoppingListingContainer":return a.createElement(c.b,de({key:o.verticalIndex},H),a.createElement("div",null,a.createElement(i.gEe,de({theme:"secondary",spacingOptions:ka},w),a.createElement(Bt,{data:r,lodgingCardOptions:M,shoppingSelectableImageCardOptions:{onImageCardClick:P,lazyLoad:!0}}))));case"LodgingIntentCard":return a.createElement(c.b,{key:o.verticalIndex,margin:{blockstart:"four"}},a.createElement(i.e1h,{data:r}));case"LodgingHeading":return a.createElement(c.b,{key:o.verticalIndex,padding:{blockstart:"three"},margin:x},a.createElement(i.RIL,{tag:"h2",size:5,data:r}));case"MessageResult":return a.createElement(c.b,{key:o.verticalIndex,margin:x},"BRANDED_THEME_ACCENT"===r.type||"BRANDED_THEME_DARK"===r.type?a.createElement(i.glj,{data:r}):a.createElement(i.DiW,{data:r}));case"SponsoredContentPlacement":return a.createElement(c.b,{key:o.verticalIndex,margin:x},a.createElement("div",null,a.createElement(Cn,{data:r,criteria:d,onClickCallback:B,onHoverChanged:g})));case"StaticLodgingMultiItemCrossSell":return a.createElement(c.b,{key:o.verticalIndex,margin:x},a.createElement(ga,{data:r}));case"PropertySearchListingsSoldOutCard":return a.createElement(c.b,{key:o.verticalIndex,margin:x},a.createElement("div",null,a.createElement(bn,{data:r,onClick:u})));case"FlexibleDateSearchCard":return a.createElement(c.b,{key:o.verticalIndex,margin:x},a.createElement("div",null,a.createElement(_n,{data:r,onChangeDatesClick:u,onFlexibleDateButtonClick:p})));case"PropertySearchListingsOverfilteredCard":return a.createElement(c.b,{key:o.verticalIndex,margin:x},a.createElement("div",null,a.createElement(Fn,{data:r,onFilterPillRemoval:b,onRemoveAllFilters:k})));case"EGDSStandardMessagingCard":var V=r.egdsElementId===z;return a.createElement(c.b,{key:o.verticalIndex,margin:x},a.createElement("div",null,null!==r.egdsElementId&&j.includes(r.egdsElementId)?(r.egdsElementId===G||D)&&a.createElement(i.hOm,{data:r,onClickCBLink:u,showBorder:!0,onDismiss:function(){A(!1),null==C||C()},markNoInlineStart:r.egdsElementId===G,preventDefaultLink:V,columnAlignment:V}):a.createElement(Nn,de({data:r,showBorder:!0},"propertySelectDateCard"===(null==(t=r)?void 0:t.egdsElementId)&&{onClick:u}))));case"PropertyListingsIconTextExpando":return a.createElement(c.b,{key:o.verticalIndex,margin:x},a.createElement("div",null,a.createElement(Dn,{data:r})));case"PropertySearchListingPlaceholder":return a.createElement(c.b,{key:o.verticalIndex},a.createElement("div",null,a.createElement(ya,{data:r,packageType:h,criteria:d})));case"RecentlyViewedPropertiesCarouselWrapper":return a.createElement(c.b,{key:o.verticalIndex,margin:x},a.createElement("div",null,a.createElement(la,{data:r,inputs:y,onHoverChanged:g})));case"NestedListingContainer":var U,W="ShoppingListingExpandoCardContainer"!==(null===(U=r.layout)||void 0===U?void 0:U.__typename)?"secondary":void 0;return a.createElement(c.b,de({key:o.verticalIndex},H),a.createElement("div",null,a.createElement(i.gEe,se(de({theme:W},w),{spacingOptions:ka}),a.createElement(ra,{key:o.verticalIndex,data:r,lodgingCardOptions:M}))));case"TotalPriceReassuranceCard":return(null==o?void 0:o.verticalIndex)&&o.verticalIndex<2?a.createElement(c.b,{key:o.verticalIndex,margin:{blockstart:"six",blockend:"six"}},a.createElement("div",null,a.createElement(i.lLc,{data:r}))):null;default:return null}};function La(e,n){return function(t,a){var r,i,l=a.fetchMoreResult;return l?e&&n?se(de({},l),{propertySearch:se(de({},l.propertySearch),{dynamicMap:(0,ee.T1)(null!==(r=t.propertySearch.dynamicMap)&&void 0!==r?r:{},null!==(i=l.propertySearch.dynamicMap)&&void 0!==i?i:{})})}):l:t}}Pa.fragment=Ea,Pa.displayName="Listing";var Ia=/^PropertySearchListingsSoldOutCard|FlexibleDateSearchCard|PropertySearchListingsOverfilteredCard|LodgingHeading$/,_a=function(e){return{small:[(0,x.R)(2,(0,x.e)("0x","1fr"))],medium:[(0,x.R)(3,(0,x.e)("0x","1fr"))],large:[(0,x.R)(e?2:3,(0,x.e)("0x","1fr"))],extra_large:[(0,x.R)(3,(0,x.e)("0x","1fr"))]}},xa=function(e,n,t,a){return r=e,(null!=(i=Array)&&"undefined"!=typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](r):r instanceof i)?e.map((function(e,r){return t(e,a,n,n,r)})):t(e,a,n,n);var r,i},Fa=function(e){var n,t,r=e.inputs,i=e.onClickCallback,o=e.onHoverCallback,c=e.appendAdditionalQueryParamCb,d=e.openDatePicker,s=e.shouldChangeCardDisplayOnHover,u=e.listings,m=e.changeFlexibility,g=e.isSplitView,p=e.hideCompressionMessage,v=e.onBannerDismiss,f=e.onFilterPillRemoval,y=e.onRemoveAllFilters,h=e.onImageCardClickCallback,E=e.showCarouselDots,C=(0,V.up)(),S=da().isGridView,b=(0,l.uQ)(function(e){var n;return ce(n={},l.Cu.SMALL,2),ce(n,l.Cu.MEDIUM,3),ce(n,l.Cu.LARGE,e?2:3),ce(n,l.Cu.EXTRA_LARGE,3),n}(g)),k=(0,a.useMemo)((function(){var e;return null!==(e=null==u?void 0:u.filter((function(e){return"LodgingCard"===e.__typename})))&&void 0!==e?e:[]}),[u]),P=a.useMemo((function(){return u.findIndex((function(e){return"LodgingCard"===e.__typename}))}),[u]);(0,a.useEffect)((function(){var e,n,t;null!==C&&C({type:V.xN.REGISTER_ELIGIBLE_LISTINGS_ID,eligibleListingId:(e=u,n=e.findIndex((function(e){var n,t,a;return"LodgingCard"===e.__typename&&(null===(a=e.priceSection)||void 0===a||null===(t=a.priceSummary)||void 0===t||null===(n=t.displayMessages)||void 0===n?void 0:n.some((function(e){return e.lineItems.some((function(e){return"DisplayPrice"===e.__typename&&"LEAD"===e.role}))})))})),t=n>-1?e[n]:null,(null==t?void 0:t.id)?"".concat(t.id,"-").concat(n):null)})}),[C,u]);var L=(0,a.useMemo)((function(){var e;return null==r||null===(e=r.criteria)||void 0===e?void 0:e.primary.destination.pinnedPropertyId}),[r]),I=(0,a.useMemo)((function(){if(S){var e=function(e,n){var t,a,r,i=[],l=0,o=[];if(!(null==e?void 0:e.length))return{listingRows:[],lazyLoadIndex:t};if(e.forEach((function(e,n){if("LodgingCard"!==e.__typename)if(e.__typename.match(Ia))i[n]=[e],a=n;else{for(var t=Math.round(n/1.5);i[t];)t+=1;i[t]=[e]}})),e.forEach((function(e,c){if("LodgingCard"===e.__typename){if(c>a&&void 0===r){if(r=c,o.length){for(;i[l];)l+=1;i[l]=o,o=[]}l=a+1}if(o.push(e),29===c&&(t=l),o.length===n){for(;i[l];)l+=1;i[l]=o,o=[],l+=1}}})),o.length){for(;i[l];)l+=1;i[l]=o}return{listingRows:i.filter(Boolean),lazyLoadIndex:t}}(u,b||2);return{gridViewListingRows:e.listingRows,gridViewLazyLoadIndex:e.lazyLoadIndex||30}}return{gridViewListingRows:[],gridViewLazyLoadIndex:0}}),[S,u,b]),_=I.gridViewListingRows,F=I.gridViewLazyLoadIndex,O=(0,a.useMemo)((function(){return S?_:[]}),[_,S]),N=null==r||null===(t=r.shoppingContext)||void 0===t||null===(n=t.multiItem)||void 0===n?void 0:n.packageType,T=(0,a.useCallback)((function(e,n,t){var a=E&&(!L||"LodgingCard"===e.__typename&&L===e.id);return{appendAdditionalQueryParamCb:c,changeFlexibility:m,criteria:null==r?void 0:r.criteria,data:e,fetchPriority:n===P?"high":void 0,hideCompressionMessage:p,inputs:r,index:{rankingIndex:"LodgingCard"===e.__typename?k.findIndex((function(n){return n.id===e.id})):void 0,verticalIndex:n,horizontalIndex:t,horizontalCompositionCount:b},isSRPListing:!0,onBannerDismiss:v,onFilterPillRemoval:f,onHoverChanged:o,onImageCardClickCallback:h,onClickCallback:i,onRemoveAllFilters:y,openDatePicker:d,packageType:N,shouldChangeCardDisplayOnHover:s,showCarouselDots:a}}),[c,m,r,p,v,f,o,h,i,y,d,N,s,E,L,k,b]),D=(0,a.useCallback)((function(e,n,t,r,i){var l=a.createElement(Pa,se(de({},T(e,r,i)),{listingSpacing:{blockstart:void 0}})),o=n?a.createElement($.Z,{offset:1e3},l):l;return"LodgingCard"===e.__typename?a.createElement(x.a,{key:"property-listing-product-".concat(r,"-").concat(i)},o):a.createElement(x.a,{key:"property-listing-non-product-".concat(t),colSpan:"all"},a.createElement("div",null,o))}),[T]);return a.createElement(a.Fragment,null,a.createElement("div",{"data-stid":"property-listing-results"},S?a.createElement(x.E,{"data-stid":"property-listing-grid-view",columns:_a(g),space:"two"},null==O?void 0:O.slice(0,F).map((function(e,n){return xa(e,n,D)})),null==O?void 0:O.slice(F).map((function(e,n){return xa(e,n+F,D,!0)}))):a.createElement(a.Fragment,null,null==u?void 0:u.slice(0,20).map((function(e,n){return a.createElement(Pa,de({key:"property-listing-".concat(n)},T(e,n)))})),a.createElement($.Z,{offset:2e3},a.createElement(a.Fragment,null,null==u?void 0:u.slice(20).map((function(e,n){var t=n+20;return a.createElement(Pa,de({key:"property-listing-".concat(t)},T(e,t)))})))))),a.createElement(ne.kb,{skipSsr:!0,isSplitView:g,searchResultsProperties:k,criteria:null==r?void 0:r.criteria,shoppingContext:null==r?void 0:r.shoppingContext}))};Fa.displayName="Listings";var Oa=function(){return a.createElement(c.b,{margin:{block:"four"}},a.createElement(C.i,null,a.createElement(x.E,{columns:3},a.createElement(x.a,{colSpan:1},a.createElement(Ta,{aspectRatio:_.E.R21_9})),a.createElement(x.a,{colSpan:2},a.createElement(c.b,{padding:{blockend:"twelve"}},a.createElement("div",null,a.createElement(Da,null)))))))};Oa.displayName="SearchListingPlaceholder";var Na=function(){return a.createElement(C.i,{border:!0,padded:!0},a.createElement(r.i,{direction:"column",blockSize:"full_size"},a.createElement(r.j,null,a.createElement(Ta,{aspectRatio:_.E.R4_3,type:"rounded"})),a.createElement(r.j,null,a.createElement(c.b,{margin:{blockstart:"two",blockend:"eight"}},a.createElement("div",null,a.createElement(Da,{padded:!1}))))))};Na.displayName="SearchListingGridViewPlaceholder";var Ta=function(e){var n=e.aspectRatio,t=e.type;return a.createElement(_.a,{ratio:n},a.createElement(W.a,{type:t}))};Ta.displayName="CardGalleryPlaceholder";var Da=function(e){var n=e.border,t=e.padded;return a.createElement(C.m,{border:n,padded:t},a.createElement(Aa,null),a.createElement(Aa,{margin:{blockend:"twelve"},type:"secondary"}))};Da.displayName="CardContentPlaceholder";var Aa=function(e){var n=e.margin,t=void 0===n?{blockend:"two"}:n,r=e.type;return a.createElement(c.b,{margin:t},a.createElement(W.b,{animation:!0,type:r}))};Aa.displayName="PaddedSkeletonText";var Ra=function(e){var n=e.refetch,t=e.variables,r=(0,ae.useLocalization)().formatText,i=r("hotels.searchResults.error.text"),l=r("hotels.searchResults.error.cta"),o=(0,b.Gv)();return a.createElement(c.b,{padding:{blockstart:"three",blockend:"twelve"}},a.createElement(d.c,{align:"center"},a.createElement(S.a,{name:"error"}),a.createElement(c.b,{padding:{blockstart:"four",blockend:"two"}},a.createElement(d.E,{tag:"h2"},i)),a.createElement(te.E,{onClick:function(){n&&t&&(o(":errorOnSearch","Try Again on error",!0),n(t))}},l)))};var wa=(0,j._d)(new U.a$,U.Zj),Ba=(0,o.Ps)(en(),i.NMC,Pa.fragment,Jt.fragment,i.$q.fragment,Wt.fragment),Ma=function(e){var n,t,l,o,d,s,u,m,g,p,v,f=e.data,y=e.error,h=e.fetchMore,C=e.inputs,S=e.isLoadingPwa,k=e.listingAnnouncementMessages,P=e.onClickCallback,L=e.onHoverChanged,I=e.appendAdditionalQueryParamCb,_=e.onPaginationCallback,F=e.onDestinationCallback,O=e.openDatePicker,N=e.propertyListingToast,T=e.propertySearchListingAdaptexAnalyticsEvents,D=e.shouldScrollToTopOnSearch,A=e.shouldChangeCardDisplayOnHover,R=e.loading,w=e.propertySearchListingsPwa,B=e.scrollToTopRef,M=e.changeFlexibility,H=e.variables,j=e.refetch,U=e.hideCompressionMessage,W=e.onBannerDismiss,$=e.showListingToast,J=e.onPaginationNext,K=e.onPaginationPrev,Q=e.showPagination,X=e.showLoadingSpinner,q=e.onFilterPillRemoval,Z=e.onRemoveAllFilters,Y=e.onImageCardClickCallback,ee=e.showCarouselDots,ne=e.clickstreamEvents,te=Boolean(w),ae=S&&(!w||0===w.length),re=me((0,a.useState)(!1),2),ie=re[0],le=re[1],ce=me((0,a.useState)(!1),2),ue=ce[0],ge=ce[1],ve=me((0,a.useState)(),2),ye=ve[0],he=ve[1],Ee=me((0,a.useState)(),2),Ce=Ee[0],Se=Ee[1],be=me((0,a.useState)(),2),ke=be[0],Pe=be[1],Le=me((0,a.useState)(),2),Ie=Le[0],_e=Le[1],xe=(0,b.Gv)(),Fe=(0,V.up)(),Oe=!f&&R,Ne=JSON.stringify(null==C?void 0:C.criteria),Te=JSON.stringify(null==C?void 0:C.productShoppingCriteriaInput),De=null!=ye?ye:null==f?void 0:f.pagination,Ae=me(a.useState($),2),Re=Ae[0],we=Ae[1],Be=da().isGridView,Me=a.useCallback((function(){Re&&we(!1)}),[Re,we]),He=a.useMemo((function(){var e=N||(null==f?void 0:f.propertyListingsToast);if(e&&Re)return a.createElement(Jt,{hideListingToast:Me,data:e})}),[null==f?void 0:f.propertyListingsToast,Re,Me,N]);(0,a.useEffect)((function(){Fe&&S&&Fe({type:V.xN.GET_CLICKSTREAM_EVENTS,clickstreamEvents:null})}),[Fe,S]),(0,a.useEffect)((function(){Fe&&ne&&!S&&Fe({type:V.xN.GET_CLICKSTREAM_EVENTS,clickstreamEvents:ne.additionalEvents})}),[Fe,ne,S]),(0,a.useEffect)((function(){Fe&&Fe({type:V.xN.SET_POSITION,position:Be?"bottom-left":"bottom-right"})}),[Fe,Be]),(0,a.useEffect)((function(){Re||S||we(!0)}),[S]),(0,a.useEffect)((function(){var e,n,t,a,r,i,l,o,c;(Oe&&(Pe(void 0),he(void 0)),!Q&&(null==f||null===(e=f.pagination)||void 0===e?void 0:e.__typename)&&he(null==f?void 0:f.pagination),!Ie&&(null==De||null===(n=De.trigger)||void 0===n?void 0:n.__typename))&&_e(null==De||null===(c=De.trigger)||void 0===c?void 0:c.__typename);(null==f||null===(t=f.pagination)||void 0===t?void 0:t.subSets)&&(null==_||_(f.pagination.subSets)),(null==f||null===(i=f.criteria)||void 0===i||null===(r=i.primary)||void 0===r||null===(a=r.destination)||void 0===a?void 0:a.regionName)&&(null==F||F(f.criteria.primary.destination.regionName)),Se(null==f||null===(o=f.criteria)||void 0===o||null===(l=o.secondary)||void 0===l?void 0:l.booleans)}),[Ne,Te,null==De||null===(n=De.trigger)||void 0===n?void 0:n.__typename,_e,null==f?void 0:f.pagination]);var Ge,ze=null!==(v=null!==(p=null!=w?w:ke)&&void 0!==p?p:null==f?void 0:f.propertySearchListings)&&void 0!==v?v:[],je=!!(null==De||null===(t=De.subSets)||void 0===t?void 0:t.nextSubSet),Ve=(null==ye||null===(o=ye.subSets)||void 0===o||null===(l=o.nextSubSet)||void 0===l?void 0:l.startingIndex)||Q&&(null==f||null===(u=f.pagination)||void 0===u||null===(s=u.subSets)||void 0===s||null===(d=s.nextSubSet)||void 0===d?void 0:d.startingIndex),Ue="UIPrimaryButton"===Ie,We="LodgingPaginationNavigationButtons"===Ie,$e=Ue?void 0:L,Je=(!te||Q)&&Ue,Ke="UIPrimaryButton"===Ie?null==De?void 0:De.trigger:void 0,Qe=(!te||Q)&&We,Xe=(0,a.useCallback)(oe((function(){var e,n,t,a,r,i,l,o,c,d=arguments;return fe(this,(function(s){switch(s.label){case 0:return e=d.length>0&&void 0!==d[0]?d[0]:0,(n=d.length>1&&void 0!==d[1]&&d[1])&&ge(!0),le(!0),h&&((null==C?void 0:C.criteria)||(null==C?void 0:C.productShoppingCriteriaInput))?(t=(null==C?void 0:C.criteria)?{criteria:se(de({},C.criteria),{secondary:se(de({},C.criteria.secondary),{counts:[{id:"resultsStartingIndex",value:e}]})})}:{productShoppingCriteriaInput:se(de({},C.productShoppingCriteriaInput),{secondaryCriteria:se(de({},C.productShoppingCriteriaInput.secondaryCriteria),{counts:[{id:"resultsStartingIndex",value:e}]})})},[4,h({variables:t,updateQuery:La(We,n)})]):[2];case 1:return a=s.sent(),(r=a.data)&&(c=Ue||n?ze.concat(r.propertySearch.propertySearchListings):r.propertySearch.propertySearchListings,Pe(c),(null===(i=r.propertySearch.pagination)||void 0===i?void 0:i.subSets)?(he(r.propertySearch.pagination),null==_||_(r.propertySearch.pagination.subSets)):he(null),Se(null===(o=r.propertySearch.criteria)||void 0===o||null===(l=o.secondary)||void 0===l?void 0:l.booleans)),le(!1),n&&ge(!1),[2]}}))})),[h,null==C?void 0:C.criteria,Ue,ze,_,We]);!function(e,n,t){(0,a.useEffect)((function(){if(e&&n){var a=n.startingIndex;t(a,!0)}}),[n,e,t])}(!ie&&!ue&&je&&!!Ie&&!!(null==Ce?void 0:Ce.find((function(e){var n=e.id,t=e.value;return"shouldFetchSecondaryBatch"===n&&t}))),null==De||null===(m=De.subSets)||void 0===m?void 0:m.nextSubSet,Xe);var qe=null!==(Ge=(null==f?void 0:f.propertyListingAdaptexAnalyticsSuccessEvents)||T)&&void 0!==Ge?Ge:[],Ze=a.useRef(null),Ye=B||Ze;(0,a.useEffect)((function(){(null==Ye?void 0:Ye.current)&&D&&(R||ie||te)&&Ye.current.scrollIntoView({behavior:"auto",block:"start",inline:"nearest"})}),[te,R,ie,D]);var en,nn,tn,an={lazyLoadImg:!0,onClickCallback:P,onHoverChanged:L,isSRPListingCard:!0,shouldChangeCardDisplayOnHover:A,enableInlineLink:!0};if(!Ue&&ie&&!ue||Oe||ae){var rn;(0,z.liveAnnounce)(null!==(rn=null==k?void 0:k.loadMessage)&&void 0!==rn?rn:"",z.Level.POLITE);var ln=pe(Array(6));return a.createElement(wa,null,a.createElement("div",{ref:Ze},Be?a.createElement(x.E,{"data-stid":"property-listing-grid-view",columns:_a(We),space:"two"},ln.map((function(e,n){return a.createElement(Na,{key:"placeholder-".concat(n)})}))):ln.map((function(e,n){return a.createElement(Oa,{key:"placeholder-".concat(n)})}))),Qe&&a.createElement(Vt,{handlePagination:Xe,isLoading:!0,pagination:De,onPaginationNext:J,onPaginationPrev:K,showPagination:Q}))}return y?((0,z.liveAnnounce)(null!==(en=null==k?void 0:k.errorMessage)&&void 0!==en?en:"",z.Level.POLITE),a.createElement(Ra,{refetch:j,variables:H})):((0,z.liveAnnounce)(null!==(nn=null==k?void 0:k.updateMessage)&&void 0!==nn?nn:"",z.Level.POLITE),a.createElement(wa,null,a.createElement(i.noS,{value:{adaptExSuccessEvents:qe}},He,(null==f||null===(g=f.summary)||void 0===g?void 0:g.header)&&a.createElement(c.b,{margin:{blockstart:"two"}},a.createElement("div",null,a.createElement(i.$q,{data:f.summary.header,size:5,tag:"h2"}))),a.createElement(Fa,{listings:ze,onClickCallback:P,onHoverCallback:$e,appendAdditionalQueryParamCb:I,openDatePicker:O,shouldChangeCardDisplayOnHover:A,inputs:C,changeFlexibility:M,hideCompressionMessage:U,onBannerDismiss:W,onFilterPillRemoval:q,onRemoveAllFilters:Z,onImageCardClickCallback:Y,showCarouselDots:ee,isSplitView:We}),a.createElement(c.b,{padding:{blockstart:"three"}},a.createElement("div",null,Je&&je&&Ve&&a.createElement(a.Fragment,null,(ie||X)&&a.createElement(r.i,{justifyContent:"center"},a.createElement(r.j,null,a.createElement(G.E,null))),a.createElement(r.i,{justifyContent:"center",tag:"section"},a.createElement(E.E,{"aria-label":null!==(tn=null==Ke?void 0:Ke.accessibility)&&void 0!==tn?tn:"",disabled:ie||S,onClick:function(){var e,n;return function(){var e,n,t,a,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=null==f||null===(e=f.pagination)||void 0===e?void 0:e.trigger;"UIPrimaryButton"===(null==l?void 0:l.__typename)&&xe(null!==(a=null===(n=l.analytics)||void 0===n?void 0:n.referrerId)&&void 0!==a?a:"",null!==(r=null===(t=l.analytics)||void 0===t?void 0:t.linkName)&&void 0!==r?r:""),Q?null==J||J():Xe(i)}(null==De||null===(n=De.subSets)||void 0===n||null===(e=n.nextSubSet)||void 0===e?void 0:e.startingIndex)}},null==Ke?void 0:Ke.primary))),Qe&&a.createElement(Vt,{onPaginationNext:J,onPaginationPrev:K,handlePagination:Xe,showPagination:Q,isLoading:ie||S||!!Oe,pagination:De}),a.createElement(Wt,{data:f,lodgingCardOptions:an}))))))};Ma.displayName="PropertyListing",Ma.fragment=Ba;var Ha=(0,o.Ps)(nn()),Ga=function(e){var n=e.data,t=e.error,r=e.isHiddenFromScreenReader,i=void 0!==r&&r,l=null==n?void 0:n.summary.resultsHeading;return!l||t?null:a.createElement(a.Fragment,null,i?a.createElement("div",{"data-stid":"lodging-property-listing-results-heading",className:"is-visually-hidden","aria-hidden":!0},l):a.createElement("header",null,a.createElement("h1",{"data-stid":"lodging-property-listing-results-heading",className:"is-visually-hidden"},l)))};Ga.displayName="ResultsHeading",Ga.fragment=Ha;var za=(0,o.Ps)(tn()),ja=function(e){var n,t=e.data;return a.createElement(N.f,null,null===(n=t.textList)||void 0===n?void 0:n.map((function(e,n){return a.createElement(d.c,{key:n,spacing:0!==n?"three":void 0},e)})))};ja.fragment=za,ja.displayName="ProductResultsSummaryTextContent";var Va=(0,o.Ps)(an(),ja.fragment,ot.fragment),Ua=function(e){var n=e.data.content;return"ProductResultsSummaryTextContent"===n.__typename?a.createElement(ja,{data:n}):null};Ua.fragment=Va,Ua.displayName="ProductResultsSummaryContent";var Wa=(0,o.Ps)(rn()),$a=function(e){var n=e.data,t=e.onRewardsToggleChange,r=e.switchPositionOfToggleOnEPS,i=(0,b.Gv)(),l=(0,ae.useLocalization)().formatText;if(!(null==n?void 0:n.pointsToggle))return null;var o=n.pointsToggle,s=o.checked,u=o.checkedAccessibilityLabel,m=o.checkedAnalytics,g=o.checkedDescription,p=o.checkedLabel,v=o.uncheckedAccessibilityLabel,f=o.uncheckedAnalytics,y=o.uncheckedDescription,h=o.uncheckedLabel,E=r?"trailing":"leading";return a.createElement(c.b,{padding:{block:"two"}},a.createElement(d.c,{size:300},a.createElement(re.E,{id:"swpToggle-shared-ui",checked:s,onChange:function(){s&&f?i(f.referrerId,f.linkName):m&&i(m.referrerId,m.linkName),(0,z.liveAnnounce)(l(s?"common.pointsRemoved":"common.pointsApplied"),z.Level.POLITE),null==t||t(!s)},description:(s?g:y)||"",a11yLabel:(s?u:v)||"",switchPosition:E},s?p:h)))};$a.displayName="LoyaltyRewardsToggle",$a.fragment=Wa;var Ja=(0,o.Ps)(ln(),sn.fragment,i.N$x.fragment,$a.fragment,i.Gvv.fragment,Ua.fragment),Ka=function(e){return e[e.Primary=0]="Primary",e[e.Secondary=1]="Secondary",e}(Ka||{}),Qa={center:"center",left:"start"},Xa=function(e){var n=e.resultMessages,t=e.loading,i=e.localizedText,o=e.fontSize,c=e.fontWeight,s=e.skeletonLayout,u=e.overlayContent,m=e.title,g=e.subtitle,p=e.alignment,v=e.standardLinkFontWeight,f=a.createElement("div",{"data-stid":"results-header-messages-placeholder"},a.createElement(d.c,{inline:!1,align:"left",theme:"standard"},i)),y=null==s?void 0:s.map((function(e,n){return 0===e?a.createElement(r.j,{key:n},a.createElement(W.b,{animation:!0,type:"primary"})):a.createElement(r.j,{key:n},a.createElement(W.b,{animation:!0,type:"secondary"}))})),h=y&&a.createElement("div",{"data-stid":"results-header-messages-placeholder"},a.createElement(l.l_,null,a.createElement(l.Vk,null,a.createElement(r.i,{space:"one",direction:"column",alignItems:p?Qa[p]:"center"},y)),a.createElement(l.N0,null,a.createElement(r.i,{space:"one",direction:"column",alignItems:p?Qa[p]:void 0},y))));return t?i?f:h||null:n&&0!==(null==n?void 0:n.length)?a.createElement("div",{"data-stid":"results-header-messages-listings"},a.createElement(pn,{messages:n,fontSize:o,fontWeight:c,overlayContent:u,title:m,subtitle:g,alignment:p,standardLinkFontWeight:v})):null},qa=function(e){var n,t,r,i,l,o,c,d,s=e.data,u=e.loading,m=e.localizedText,g=e.fontSize,p=e.fontWeight,v=e.error,f=e.onRewardsToggleChange,y=e.switchPositionOfToggleOnEPS,h=e.skeletonLayout,E=e.alignment,C=e.standardLinkFontWeight;if(v)return null;var S,b=null==s||null===(t=s.summary)||void 0===t||null===(n=t.contents)||void 0===n?void 0:n.map((function(e,n){return a.createElement(Ua,{data:e,key:n})}));return a.createElement(F.p6,{id:"results-sub-header",shoppingJoinListContainer:null==s||null===(r=s.summary)||void 0===r?void 0:r.shoppingJoinListContainer},a.createElement($a,{data:null==s||null===(i=s.summary)||void 0===i?void 0:i.loyaltyInfo,onRewardsToggleChange:f,switchPositionOfToggleOnEPS:y}),a.createElement(Xa,{resultMessages:null==s||null===(l=s.summary)||void 0===l?void 0:l.resultMessages,fontSize:g,fontWeight:p,loading:u,localizedText:m,skeletonLayout:h,overlayContent:b,title:null!==(S=null==s||null===(d=s.summary)||void 0===d||null===(c=d.contents)||void 0===c||null===(o=c.flatMap((function(e){return e.content})).find((function(e){return"ProductResultsSummaryTextContent"===e.__typename})))||void 0===o?void 0:o.title)&&void 0!==S?S:void 0,alignment:E,standardLinkFontWeight:C}))};qa.displayName="ResultsSubHeader",qa.fragment=Ja;var Za=(0,o.Ps)(on(),Bt.fragment),Ya=function(e){var n,t,r=e.data,l=e.onImageCardClickCallback,o=e.className,d=(0,v.v)().context,s=null!==(t=null==r?void 0:r.shoppingSearchListingHeader)&&void 0!==t?t:[];if(0===(null==s?void 0:s.length))return null;var u="MOBILE_PHONE"===(null==d||null===(n=d.device)||void 0===n?void 0:n.type);return a.createElement("div",{"data-stid":"shopping-search-listing-header",className:o},s.map((function(e,n){return"ShoppingListingContainer"===e.__typename?a.createElement(c.b,{key:"shopping-listing-header-container-".concat(n),margin:{blockstart:0===n?void 0:"three"}},a.createElement("div",null,a.createElement(i.gEe,{theme:"secondary",isSquareCard:u,spacingOptions:{padding:{small:{inline:"three",block:"three"},medium:{inline:"six",block:"six"}}}},a.createElement(Bt,{data:e,shoppingSelectableImageCardOptions:{lazyLoad:!1,onImageCardClick:l},useClickStreamAnalytics:!0})))):null})))};Ya.displayName="ShoppingSearchListingHeader",Ya.fragment=Za;var er=(0,o.Ps)(cn(),Ma.fragment,qa.fragment,st.fragment,zt.fragment,Ht.fragment,wn.fragment,tt.fragment,Ya.fragment),nr=a.createContext({criteria:null,destination:{},shoppingContext:null}),tr=function(e){var n=e.children,t=e.inputs;return a.createElement(nr.Provider,{value:t},n)};function ar(e){var n=function(n){var t,r,i,l,o,c=n.inputs,d=n.skipSsr,s=n.children,u=n.batchKey,m=n.propertySearchListingsPwa,g=n.locationFieldUpdateSignalType,p=(0,v.v)().context,f=Boolean(m),y=se(de({},c),{context:p}),h={context:{batchKey:u},notifyOnNetworkStatusChange:!0,skip:f,ssr:!d,variables:y},E=(0,w.a)(er,h),C=E.data,S=E.previousData,b=E.error,k=E.loading,P=E.fetchMore,L=E.refetch,I=null==C?void 0:C.propertySearch,_=null==I||null===(r=I.criteria)||void 0===r||null===(t=r.primary)||void 0===t?void 0:t.destination,x=a.useRef(null==_?void 0:_.regionName),F=(0,B.s0)().publishSignal;return a.useEffect((function(){if(g){var e=null==_?void 0:_.regionName;e&&e!==x.current&&(x.current=e,F({type:g,payload:{locationValue:e}}))}}),[null==_?void 0:_.regionName,g,F]),a.createElement(tr,{inputs:c},a.createElement(e,de({data:I,error:b||(null==C||null===(i=C.propertySearch)||void 0===i?void 0:i.errorResponse),fetchMore:P,previousData:S,loading:k,variables:y,refetch:L,shouldUsePreviousData:0===(null==C||null===(o=C.propertySearch)||void 0===o||null===(l=o.propertySearchListings)||void 0===l?void 0:l.length)},n),s))};return n.displayName="PropertyListing".concat(e.displayName),n}var rr=ar(qa),ir=ar(Ga),lr=(ar(zt),ar(wn)),or=ar(Ma),cr=(ar(Ht),ar(tt),ar(Ya))}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui-lodging-property-listing.6c6720c1c2b9c693cb73.js.map