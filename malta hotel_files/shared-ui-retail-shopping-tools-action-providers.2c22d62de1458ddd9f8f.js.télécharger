/*@license For license information please refer to shared-ui-retail-shopping-tools-action-providers.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[10],{96221:function(e,n,t){t.d(n,{Ac:function(){return W},Nd:function(){return H},QV:function(){return J},Ux:function(){return j},o4:function(){return M},p6:function(){return _},x9:function(){return F}});var r=t(38972),o=t(78096),i=t(63188),a=t(92061),l=t(1740),c=t(9235),u=t(96170),s=t(8684),p=t(23783),f=t(47751),d=t(93519),v=t(30520),g=t(93648),y=t(83028),m=t(82662);function E(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function h(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){h(e,n,t[n])}))}return e}function O(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function S(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return E(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return E(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function T(){var e=N(["\n  fragment ShoppingSheetFragment on EGDSSheet {\n    closeAnalytics {\n      linkName\n      referrerId\n    }\n    closeText\n    sheetType\n    sheetTypes {\n      sheetType\n      viewSize\n    }\n  }\n"]);return T=function(){return e},e}function I(){var e=N(["\n  fragment ShoppingOverlayFragment on ShoppingOverlayContainer {\n    overlayId\n    contentId\n    overlay {\n      __typename\n      ... on EGDSSheet {\n        ...ShoppingSheetFragment\n      }\n    }\n  }\n  ","\n"]);return I=function(){return e},e}function C(){var e=N(["\n  fragment ShoppingJoinListContainerFragment on ShoppingJoinListContainer {\n    actions {\n      accessibility\n      analytics {\n        linkName\n        referrerId\n      }\n      event {\n        eventCategory\n        eventName\n        eventType\n        eventVersion\n      }\n      actionId\n      ... on ShoppingNavigateToOverlay {\n        overlayId\n      }\n      ... on ShoppingNavigateToURI {\n        resource {\n          value\n        }\n        target\n        useRelativePath\n      }\n      ... on ShoppingInvokeFunction {\n        paramsId\n        name\n        functionType\n      }\n      ... on ShoppingScrollsToView {\n        targetRef\n      }\n    }\n    overlays {\n      ...ShoppingOverlayFragment\n    }\n  }\n  ","\n"]);return C=function(){return e},e}function w(){var e=N(["\n  fragment ShoppingActionButtonFragment on ShoppingButton {\n    accessibility\n    actionId\n    primary\n    buttonType\n    disabled\n    icon {\n      id\n    }\n  }\n"]);return w=function(){return e},e}var D,A,R=r.createContext(null),_=function(e){var n=e.children,t=e.id,o=e.shoppingJoinListContainer,i=e.shoppingInvokeFunctionCallBack,a=r.useMemo((function(){return{dialogId:"shopping-action-dialog-".concat(t),shoppingJoinListContainer:o,shoppingInvokeFunctionCallBack:i}}),[t,o,i]);return r.createElement(R.Provider,{value:a},n)},k={NO_ACTION_FOUND:new c.SystemEvent(c.SystemEventLevel.ERROR,"NO_ACTION_FOUND")},L=(h(D={},"EXTERNAL","_blank"),h(D,"INTERNAL","_self"),D),P=function(e){return"".concat(e," can only be used in a component inside <ShoppingActionProvider />")},F=function(e){var n,t=r.useContext(R);if(!t)throw new Error(P("useShoppingAction"));return function(e,n){var t;return null!==(t=null==n?void 0:n.find((function(n){return n.actionId===e})))&&void 0!==t?t:null}(e,null===(n=t.shoppingJoinListContainer)||void 0===n?void 0:n.actions)},j=function(e,n){var t,u=r.useContext(R);if(!u)throw new Error(P("useShoppingActionCallback"));var s=u.dialogId,p=u.shoppingJoinListContainer,f=u.shoppingInvokeFunctionCallBack,d=(0,a.Gv)(),v=(0,a.m_)(),g=(0,o.useHistory)(),y=S((0,l.useDialog)("".concat(s,"-").concat(e)),2),m=y[0],E=y[1],h=(0,c.useLoggerEvents)(k),b=null==p||null===(t=p.actions)||void 0===t?void 0:t.filter((function(n){return n.actionId===e}));return r.useCallback((function(){0!==(null==b?void 0:b.length)?null==b||b.forEach((function(e){e.accessibility&&(0,i.liveAnnounce)(e.accessibility);var t=null==n?void 0:n(null==e?void 0:e.event);switch(e.__typename){case"ShoppingNavigateToOverlay":E.toggleDialog(),m||d(e.analytics.referrerId,e.analytics.linkName);break;case"ShoppingNavigateToURI":t?v(t):d(e.analytics.referrerId,e.analytics.linkName),e.useRelativePath?g.push(e.resource.value):window&&"function"==typeof window.open&&window.open(e.resource.value,L[e.target]);break;case"ShoppingInvokeFunction":var r=e.functionType,o=e.name,a=e.paramsId;if(!f||!a)return;d(e.analytics.referrerId,e.analytics.linkName),f(r,o,a)}})):h.NO_ACTION_FOUND.log({description:"No action was found in shoppingJoinListContainer.actions with actionId ".concat(e)})}),[b,h.NO_ACTION_FOUND,e,n,E,m,d,v,g,f])},M=function(e){var n,t,o,i,a=r.useContext(R),l=F(e);return l&&"ShoppingNavigateToOverlay"===l.__typename?(t=l.overlayId,o=null==a||null===(n=a.shoppingJoinListContainer)||void 0===n?void 0:n.overlays,null!=(i=null==o?void 0:o.find((function(e){return e.overlayId===t})))?i:null):null},U=(0,u.Ps)(T()),B=(h(A={},"BOTTOM","bottom"),h(A,"SIDE","side"),h(A,"CENTERED","centered"),h(A,"POPOVER","popover"),h(A,"FULLSCREEN","full"),A),V=r.forwardRef((function(e,n){var t,o=e.actionId,i=e.data,c=e.sheetToolbar,u=e.children,y=e.tall,m=e.renderNavigateBar,E=void 0===m||m,N=e.useToolbar,T=void 0===N||N,I=e.openOnLoad,C=void 0!==I&&I,w=e.openAnalytics,D=e.hasModal,A=void 0!==D&&D,_=(0,a.Gv)(),k=S(function(e){var n=r.useContext(R);if(!n)throw new Error(P("useShoppingDialog"));var t="".concat(n.dialogId,"-").concat(e);return(0,l.useDialog)(t)}(o),3),L=k[0],F=k[1],j=k[2],M=null!==(t=i.sheetType)&&void 0!==t?t:"CENTERED",U=i.sheetTypes;r.useEffect((function(){C&&!L&&(F.openDialog(),w&&_(w.linkName,w.referrerId))}),[]);var V,x=r.useCallback((function(){_(i.closeAnalytics.linkName,i.closeAnalytics.referrerId)}),[i,_]),z=r.useCallback((function(){x(),F.closeDialog()}),[i,_,F]),J=null!==(V=i.closeText)&&void 0!==V?V:"close",G=function(){if(E){var e={navigationContent:{onClick:z,navIconLabel:J},toolbarTitle:null==c?void 0:c.title,toolbarSubtitle:null==c?void 0:c.subtitle};return T?r.createElement(d.b,b({},e)):r.createElement(f.g,null,r.createElement(s.E,{type:"button",onClick:z},r.createElement(p.a,{name:"close",size:p.E.MEDIUM,title:J})))}return null},H=r.useMemo((function(){return{isVisible:L,type:B[M],triggerRef:n}}),[L,i,n,M]),Y=function(e){return r.createElement(f.h,{isVisible:L},r.createElement(f.e,O(b({},H),{sideSheetLayout:e}),G(),u))},K=r.createElement(v.yo,O(b({},H),{type:"bottom",tall:y}),G(),u);K=A?r.createElement(f.h,{isVisible:L,closeCallback:x},r.createElement(j,null,K)):r.createElement(f.h,{isVisible:L,closeCallback:x},K);var W=r.createElement(f.h,{isVisible:L,closeCallback:x},r.createElement(j,null,r.createElement(f.e,O(b({},H),{centeredSheetSize:"small"}),G(),u))),Q=r.createElement(f.h,{isVisible:L},r.createElement(j,null,r.createElement(f.e,{type:"full",isVisible:!0,triggerRef:n,returnFocusOnClose:!0},G(),u)));if(U){var X,$,q,Z,ee=(h(Z={},"BOTTOM",K),h(Z,"SIDE",Y({position:"trailing",columns:6})),h(Z,"CENTERED",W),h(Z,"POPOVER",W),h(Z,"FULLSCREEN",Q),Z),ne=(null===(X=U.find((function(e){return"SMALL"===e.viewSize})))||void 0===X?void 0:X.sheetType)||"CENTERED",te=(null===($=U.find((function(e){return"MEDIUM"===e.viewSize})))||void 0===$?void 0:$.sheetType)||"CENTERED",re=(null===(q=U.find((function(e){return"LARGE"===e.viewSize})))||void 0===q?void 0:q.sheetType)||"CENTERED";return r.createElement(g.l_,null,r.createElement(g.Vk,null,ee[ne]),r.createElement(g.N2,null,ee[te]),r.createElement(g.N0,null,ee[re]))}return"SIDE"===M?r.createElement(g.l_,null,r.createElement(g.Vk,null,Q),r.createElement(g.N2,null,Y({position:"trailing",columns:6})),r.createElement(g.N0,null,Y({position:"trailing",columns:4}))):"CENTERED"===M?r.createElement(g.l_,null,r.createElement(g.Vk,null,Q),r.createElement(g.N2,null,W),r.createElement(g.N0,null,W)):"FULLSCREEN"===i.sheetType?r.createElement(r.Fragment,null,Q):null}));V.fragment=U,V.displayName="ShoppingSheet";var x=(0,u.Ps)(I(),V.fragment),z=r.forwardRef((function(e,n){var t=e.data,o=e.actionId,i=e.renderNavigateBar,a=e.sheetToolbar,l=e.children,c=e.useToolbar,u=e.tall,s=e.openOnLoad,p=e.openAnalytics,f=e.hasModal,d=t.overlay;return"EGDSSheet"===d.__typename?r.createElement(V,{data:d,ref:n,actionId:o,sheetToolbar:a,tall:u,useToolbar:c,renderNavigateBar:i,openOnLoad:s,openAnalytics:p,hasModal:f},l):null}));z.fragment=x,z.displayName="ShoppingOverlay";var J=r.forwardRef((function(e,n){var t=e.actionId,o=e.sheetToolbar,i=e.children,a=e.renderNavigateBar,l=e.tall,c=e.useToolbar,u=e.openOnLoad,s=e.openAnalytics,p=e.hasModal,f=M(t);return f?r.createElement(z,{data:f,actionId:t,ref:n,sheetToolbar:o,tall:l,useToolbar:c,renderNavigateBar:a,openOnLoad:u,openAnalytics:s,hasModal:p},i):null}));J.displayName="ShoppingOverlayMapper";var G,H=(0,u.Ps)(C(),z.fragment),Y=(0,u.Ps)(w()),K=(h(G={},"PRIMARY",y.E),h(G,"SECONDARY",m.E),h(G,"TERTIARY",s.E),G),W=function(e){var n=e.data,t=e.size,o=e.isFullWidth,i=e.hideText,a=void 0!==i&&i,l=e.clickstreamEventBuilder,c=n.accessibility,u=n.actionId,s=n.buttonType,f=n.disabled,d=n.icon,v=n.primary,g=j(u,l),y=F(u),m=r.useRef(null),E=(!v||a)&&d,h="ShoppingNavigateToURI"===(null==y?void 0:y.__typename),O=K[s];return r.createElement(O,b({"aria-label":null!=c?c:"",size:t,onClick:function(e){h&&e.preventDefault(),g()},isFullWidth:o,domRef:m,disabled:f,className:E?"uitk-button-only-icon":void 0},h&&{href:y.resource.value,target:L[y.target]}),!a&&v,r.createElement(r.Fragment,null,(null==d?void 0:d.id)&&r.createElement(p.a,{name:d.id,id:d.id,size:p.E.MEDIUM})))};W.fragment=Y,W.displayName="ShoppingActionButton"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui-retail-shopping-tools-action-providers.2c22d62de1458ddd9f8f.js.map